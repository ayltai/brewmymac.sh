var Mi=Object.defineProperty;var Li=(t,e,n)=>e in t?Mi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vt=(t,e,n)=>(Li(t,typeof e!="symbol"?e+"":e,n),n);import"./iframe-C6jAGuY7.js";import{r as N}from"./index-C-wxagUl.js";import{b as $i,u as ji,a as Fi,c as Bi,s as He}from"./react-redux-C0ztQLYa.js";import{A as oe,a as Ui}from"./constants-DnSO8wwA.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="8e9ed602-02e8-4355-81e8-1c93e44b4ad5",t._sentryDebugIdIdentifier="sentry-dbid-8e9ed602-02e8-4355-81e8-1c93e44b4ad5")}catch{}})();function z(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zi=typeof Symbol=="function"&&Symbol.observable||"@@observable",ar=zi,Kt=()=>Math.random().toString(36).substring(7).split("").join("."),qi={INIT:`@@redux/INIT${Kt()}`,REPLACE:`@@redux/REPLACE${Kt()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kt()}`},bt=qi;function ne(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Dn(t,e,n){if(typeof t!="function")throw new Error(z(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(z(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(z(1));return n(Dn)(t,e)}let r=t,s=e,i=new Map,o=i,a=0,c=!1;function l(){o===i&&(o=new Map,i.forEach((b,_)=>{o.set(_,b)}))}function d(){if(c)throw new Error(z(3));return s}function p(b){if(typeof b!="function")throw new Error(z(4));if(c)throw new Error(z(5));let _=!0;l();const y=a++;return o.set(y,b),function(){if(_){if(c)throw new Error(z(6));_=!1,l(),o.delete(y),i=null}}}function u(b){if(!ne(b))throw new Error(z(7));if(typeof b.type>"u")throw new Error(z(8));if(typeof b.type!="string")throw new Error(z(17));if(c)throw new Error(z(9));try{c=!0,s=r(s,b)}finally{c=!1}return(i=o).forEach(y=>{y()}),b}function h(b){if(typeof b!="function")throw new Error(z(10));r=b,u({type:bt.REPLACE})}function m(){const b=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(z(11));function y(){const f=_;f.next&&f.next(d())}return y(),{unsubscribe:b(y)}},[ar](){return this}}}return u({type:bt.INIT}),{dispatch:u,subscribe:p,getState:d,replaceReducer:h,[ar]:m}}function Hi(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:bt.INIT})>"u")throw new Error(z(12));if(typeof n(void 0,{type:bt.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(z(13))})}function kn(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{Hi(n)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const l={};for(let d=0;d<r.length;d++){const p=r[d],u=n[p],h=o[p],m=u(h,a);if(typeof m>"u")throw a&&a.type,new Error(z(14));l[p]=m,c=c||m!==h}return c=c||r.length!==Object.keys(o).length,c?l:o}}function St(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Vi(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(z(15))};const o={getState:s.getState,dispatch:(c,...l)=>i(c,...l)},a=t.map(c=>c(o));return i=St(...a)(s.dispatch),{...s,dispatch:i}}}function ys(t){return ne(t)&&"type"in t&&typeof t.type=="string"}var Nn=Symbol.for("immer-nothing"),Ve=Symbol.for("immer-draftable"),W=Symbol.for("immer-state");function q(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var we=Object.getPrototypeOf;function X(t){return!!t&&!!t[W]}function Z(t){var e;return t?bs(t)||Array.isArray(t)||!!t[Ve]||!!((e=t.constructor)!=null&&e[Ve])||rt(t)||st(t):!1}var Ki=Object.prototype.constructor.toString();function bs(t){if(!t||typeof t!="object")return!1;const e=we(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Ki}function Qi(t){return X(t)||q(15,t),t[W].base_}function $e(t,e){Ee(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Ee(t){const e=t[W];return e?e.type_:Array.isArray(t)?1:rt(t)?2:st(t)?3:0}function Ge(t,e){return Ee(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Qt(t,e){return Ee(t)===2?t.get(e):t[e]}function Ss(t,e,n){const r=Ee(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Wi(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rt(t){return t instanceof Map}function st(t){return t instanceof Set}function ge(t){return t.copy_||t.base_}function fn(t,e){if(rt(t))return new Map(t);if(st(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&bs(t))return we(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[W];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const i=r[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(we(t),n)}function Mn(t,e=!1){return xt(t)||X(t)||!Z(t)||(Ee(t)>1&&(t.set=t.add=t.clear=t.delete=Gi),Object.freeze(t),e&&$e(t,(n,r)=>Mn(r,!0))),t}function Gi(){q(2)}function xt(t){return Object.isFrozen(t)}var dn={};function Ie(t){const e=dn[t];return e||q(0,t),e}function Ji(t,e){dn[t]||(dn[t]=e)}var Je;function vs(){return Je}function Yi(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cr(t,e){e&&(Ie("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pn(t){hn(t),t.drafts_.forEach(Xi),t.drafts_=null}function hn(t){t===Je&&(Je=t.parent_)}function ur(t){return Je=Yi(Je,t)}function Xi(t){const e=t[W];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lr(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[W].modified_&&(pn(e),q(4)),Z(t)&&(t=vt(e,t),e.parent_||_t(e,t)),e.patches_&&Ie("Patches").generateReplacementPatches_(n[W].base_,t,e.patches_,e.inversePatches_)):t=vt(e,n,[]),pn(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Nn?t:void 0}function vt(t,e,n){if(xt(e))return e;const r=e[W];if(!r)return $e(e,(s,i)=>fr(t,r,e,s,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return _t(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),$e(i,(a,c)=>fr(t,r,s,a,c,n,o)),_t(t,s,!1),n&&t.patches_&&Ie("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function fr(t,e,n,r,s,i,o){if(X(s)){const a=i&&e&&e.type_!==3&&!Ge(e.assigned_,r)?i.concat(r):void 0,c=vt(t,s,a);if(Ss(n,r,c),X(c))t.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Z(s)&&!xt(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;vt(t,s),(!e||!e.scope_.parent_)&&_t(t,s)}}function _t(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Mn(e,n)}function Zi(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:vs(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=Ln;n&&(s=[r],i=Ye);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var Ln={get(t,e){if(e===W)return t;const n=ge(t);if(!Ge(n,e))return eo(t,n,e);const r=n[e];return t.finalized_||!Z(r)?r:r===Wt(t.base_,e)?(Gt(t),t.copy_[e]=mn(r,t)):r},has(t,e){return e in ge(t)},ownKeys(t){return Reflect.ownKeys(ge(t))},set(t,e,n){const r=_s(ge(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=Wt(ge(t),e),i=s==null?void 0:s[W];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Wi(n,s)&&(n!==void 0||Ge(t.base_,e)))return!0;Gt(t),gn(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Wt(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Gt(t),gn(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ge(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){q(11)},getPrototypeOf(t){return we(t.base_)},setPrototypeOf(){q(12)}},Ye={};$e(Ln,(t,e)=>{Ye[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ye.deleteProperty=function(t,e){return Ye.set.call(this,t,e,void 0)};Ye.set=function(t,e,n){return Ln.set.call(this,t[0],e,n,t[0])};function Wt(t,e){const n=t[W];return(n?ge(n):t)[e]}function eo(t,e,n){var s;const r=_s(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function _s(t,e){if(!(e in t))return;let n=we(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=we(n)}}function gn(t){t.modified_||(t.modified_=!0,t.parent_&&gn(t.parent_))}function Gt(t){t.copy_||(t.copy_=fn(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var to=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const o=this;return function(c=i,...l){return o.produce(c,d=>n.call(this,d,...l))}}typeof n!="function"&&q(6),r!==void 0&&typeof r!="function"&&q(7);let s;if(Z(e)){const i=ur(this),o=mn(e,void 0);let a=!0;try{s=n(o),a=!1}finally{a?pn(i):hn(i)}return cr(i,r),lr(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===Nn&&(s=void 0),this.autoFreeze_&&Mn(s,!0),r){const i=[],o=[];Ie("Patches").generateReplacementPatches_(e,s,i,o),r(i,o)}return s}else q(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let r,s;return[this.produce(e,n,(o,a)=>{r=o,s=a}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Z(t)||q(8),X(t)&&(t=ws(t));const e=ur(this),n=mn(t,void 0);return n[W].isManual_=!0,hn(e),n}finishDraft(t,e){const n=t&&t[W];(!n||!n.isManual_)&&q(9);const{scope_:r}=n;return cr(r,e),lr(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Ie("Patches").applyPatches_;return X(t)?r(t,e):this.produce(t,s=>r(s,e))}};function mn(t,e){const n=rt(t)?Ie("MapSet").proxyMap_(t,e):st(t)?Ie("MapSet").proxySet_(t,e):Zi(t,e);return(e?e.scope_:vs()).drafts_.push(n),n}function ws(t){return X(t)||q(10,t),Es(t)}function Es(t){if(!Z(t)||xt(t))return t;const e=t[W];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fn(t,e.scope_.immer_.useStrictShallowCopy_)}else n=fn(t,!0);return $e(n,(r,s)=>{Ss(n,r,Es(s))}),e&&(e.finalized_=!1),n}function no(){const e="replace",n="add",r="remove";function s(u,h,m,S){switch(u.type_){case 0:case 2:return o(u,h,m,S);case 1:return i(u,h,m,S);case 3:return a(u,h,m,S)}}function i(u,h,m,S){let{base_:b,assigned_:_}=u,y=u.copy_;y.length<b.length&&([b,y]=[y,b],[m,S]=[S,m]);for(let g=0;g<b.length;g++)if(_[g]&&y[g]!==b[g]){const f=h.concat([g]);m.push({op:e,path:f,value:p(y[g])}),S.push({op:e,path:f,value:p(b[g])})}for(let g=b.length;g<y.length;g++){const f=h.concat([g]);m.push({op:n,path:f,value:p(y[g])})}for(let g=y.length-1;b.length<=g;--g){const f=h.concat([g]);S.push({op:r,path:f})}}function o(u,h,m,S){const{base_:b,copy_:_}=u;$e(u.assigned_,(y,g)=>{const f=Qt(b,y),v=Qt(_,y),w=g?Ge(b,y)?e:n:r;if(f===v&&w===e)return;const E=h.concat(y);m.push(w===r?{op:w,path:E}:{op:w,path:E,value:v}),S.push(w===n?{op:r,path:E}:w===r?{op:n,path:E,value:p(f)}:{op:e,path:E,value:p(f)})})}function a(u,h,m,S){let{base_:b,copy_:_}=u,y=0;b.forEach(g=>{if(!_.has(g)){const f=h.concat([y]);m.push({op:r,path:f,value:g}),S.unshift({op:n,path:f,value:g})}y++}),y=0,_.forEach(g=>{if(!b.has(g)){const f=h.concat([y]);m.push({op:n,path:f,value:g}),S.unshift({op:r,path:f,value:g})}y++})}function c(u,h,m,S){m.push({op:e,path:[],value:h===Nn?void 0:h}),S.push({op:e,path:[],value:u})}function l(u,h){return h.forEach(m=>{const{path:S,op:b}=m;let _=u;for(let v=0;v<S.length-1;v++){const w=Ee(_);let E=S[v];typeof E!="string"&&typeof E!="number"&&(E=""+E),(w===0||w===1)&&(E==="__proto__"||E==="constructor")&&q(19),typeof _=="function"&&E==="prototype"&&q(19),_=Qt(_,E),typeof _!="object"&&q(18,S.join("/"))}const y=Ee(_),g=d(m.value),f=S[S.length-1];switch(b){case e:switch(y){case 2:return _.set(f,g);case 3:q(16);default:return _[f]=g}case n:switch(y){case 1:return f==="-"?_.push(g):_.splice(f,0,g);case 2:return _.set(f,g);case 3:return _.add(g);default:return _[f]=g}case r:switch(y){case 1:return _.splice(f,1);case 2:return _.delete(f);case 3:return _.delete(m.value);default:return delete _[f]}default:q(17,b)}}),u}function d(u){if(!Z(u))return u;if(Array.isArray(u))return u.map(d);if(rt(u))return new Map(Array.from(u.entries()).map(([m,S])=>[m,d(S)]));if(st(u))return new Set(Array.from(u).map(d));const h=Object.create(we(u));for(const m in u)h[m]=d(u[m]);return Ge(u,Ve)&&(h[Ve]=u[Ve]),h}function p(u){return X(u)?d(u):u}Ji("Patches",{applyPatches_:l,generatePatches_:s,generateReplacementPatches_:c})}var J=new to,it=J.produce,Is=J.produceWithPatches.bind(J);J.setAutoFreeze.bind(J);J.setUseStrictShallowCopy.bind(J);var dr=J.applyPatches.bind(J);J.createDraft.bind(J);J.finishDraft.bind(J);function ro(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function so(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function io(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pr=t=>Array.isArray(t)?t:[t];function oo(t){const e=Array.isArray(t[0])?t[0]:t;return io(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ao(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var co=class{constructor(t){this.value=t}deref(){return this.value}},uo=typeof WeakRef<"u"?WeakRef:co,lo=0,hr=1;function at(){return{s:lo,v:void 0,o:null,p:null}}function Xe(t,e={}){let n=at();const{resultEqualityCheck:r}=e;let s,i=0;function o(){var p;let a=n;const{length:c}=arguments;for(let u=0,h=c;u<h;u++){const m=arguments[u];if(typeof m=="function"||typeof m=="object"&&m!==null){let S=a.o;S===null&&(a.o=S=new WeakMap);const b=S.get(m);b===void 0?(a=at(),S.set(m,a)):a=b}else{let S=a.p;S===null&&(a.p=S=new Map);const b=S.get(m);b===void 0?(a=at(),S.set(m,a)):a=b}}const l=a;let d;if(a.s===hr?d=a.v:(d=t.apply(null,arguments),i++),l.s=hr,r){const u=((p=s==null?void 0:s.deref)==null?void 0:p.call(s))??s;u!=null&&r(u,d)&&(d=u,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new uo(d):d}return l.v=d,d}return o.clearCache=()=>{n=at(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Os(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let i=0,o=0,a,c={},l=s.pop();typeof l=="object"&&(c=l,l=s.pop()),ro(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const d={...n,...c},{memoize:p,memoizeOptions:u=[],argsMemoize:h=Xe,argsMemoizeOptions:m=[],devModeChecks:S={}}=d,b=pr(u),_=pr(m),y=oo(s),g=p(function(){return i++,l.apply(null,arguments)},...b),f=h(function(){o++;const w=ao(y,arguments);return a=g.apply(null,w),a},..._);return Object.assign(f,{resultFunc:l,memoizedResultFunc:g,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var $n=Os(Xe),fo=Object.assign((t,e=$n)=>{so(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((o,a,c)=>(o[n[c]]=a,o),{}))},{withTypes:()=>fo});function Rs(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var po=Rs(),ho=Rs,go=(...t)=>{const e=Os(...t),n=Object.assign((...r)=>{const s=e(...r),i=(o,...a)=>s(X(o)?ws(o):o,...a);return Object.assign(i,s),i},{withTypes:()=>n});return n};go(Xe);var mo=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?St:St.apply(null,arguments)},yo=t=>t&&typeof t.match=="function";function K(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(V(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>ys(r)&&r.type===t,n}var Cs=class ze extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ze.prototype)}static get[Symbol.species](){return ze}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ze(...e[0].concat(this)):new ze(...e.concat(this))}};function gr(t){return Z(t)?it(t,()=>{}):t}function mr(t,e,n){if(t.has(e)){let s=t.get(e);return n.update&&(s=n.update(s,e,t),t.set(e,s)),s}if(!n.insert)throw new Error(V(10));const r=n.insert(e,t);return t.set(e,r),r}function bo(t){return typeof t=="boolean"}var So=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let o=new Cs;return n&&(bo(n)?o.push(po):o.push(ho(n.extraArgument))),o},Me="RTK_autoBatch",Fe=()=>t=>({payload:t,meta:{[Me]:!0}}),Ts=t=>e=>{setTimeout(e,t)},vo=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ts(10),_o=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,o=!1;const a=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?vo:t.type==="callback"?t.queueNotification:Ts(t.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>s&&d(),u=r.subscribe(p);return a.add(d),()=>{u(),a.delete(d)}},dispatch(d){var p;try{return s=!((p=d==null?void 0:d.meta)!=null&&p[Me]),i=!s,i&&(o||(o=!0,c(l))),r.dispatch(d)}finally{s=!0}}})},wo=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new Cs(t);return r&&s.push(_o(typeof r=="object"?r:void 0)),s},Eo=!0;function Io(t){const e=So(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(ne(n))a=kn(n);else throw new Error(V(1));let c;typeof r=="function"?c=r(e):c=e();let l=St;s&&(l=mo({trace:!Eo,...typeof s=="object"&&s}));const d=Vi(...c),p=wo(d);let u=typeof o=="function"?o(p):p();const h=l(...u);return Dn(a,i,h)}function As(t){const e={},n=[];let r;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(V(28));if(a in e)throw new Error(V(29));return e[a]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function Oo(t){return typeof t=="function"}function Ro(t,e){let[n,r,s]=As(e),i;if(Oo(t))i=()=>gr(t());else{const a=gr(t);i=()=>a}function o(a=i(),c){let l=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return l.filter(d=>!!d).length===0&&(l=[s]),l.reduce((d,p)=>{if(p)if(X(d)){const h=p(d,c);return h===void 0?d:h}else{if(Z(d))return it(d,u=>p(u,c));{const u=p(d,c);if(u===void 0){if(d===null)return d;throw new Error(V(9))}return u}}return d},a)}return o.getInitialState=i,o}var Co="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jn=(t=21)=>{let e="",n=t;for(;n--;)e+=Co[Math.random()*64|0];return e},xs=(t,e)=>yo(t)?t.match(e):t(e);function de(...t){return e=>t.some(n=>xs(n,e))}function Ke(...t){return e=>t.every(n=>xs(n,e))}function Pt(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function ot(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Fn(...t){return t.length===0?e=>Pt(e,["pending"]):ot(t)?e=>{const n=t.map(s=>s.pending);return de(...n)(e)}:Fn()(t[0])}function je(...t){return t.length===0?e=>Pt(e,["rejected"]):ot(t)?e=>{const n=t.map(s=>s.rejected);return de(...n)(e)}:je()(t[0])}function Dt(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?n=>Ke(je(...t),e)(n):ot(t)?n=>Ke(je(...t),e)(n):Dt()(t[0])}function pe(...t){return t.length===0?e=>Pt(e,["fulfilled"]):ot(t)?e=>{const n=t.map(s=>s.fulfilled);return de(...n)(e)}:pe()(t[0])}function yn(...t){return t.length===0?e=>Pt(e,["pending","fulfilled","rejected"]):ot(t)?e=>{const n=[];for(const s of t)n.push(s.pending,s.rejected,s.fulfilled);return de(...n)(e)}:yn()(t[0])}var To=["name","message","stack","code"],Jt=class{constructor(t,e){Vt(this,"_type");this.payload=t,this.meta=e}},yr=class{constructor(t,e){Vt(this,"_type");this.payload=t,this.meta=e}},Ao=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of To)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},br=(()=>{function t(e,n,r){const s=K(e+"/fulfilled",(c,l,d,p)=>({payload:c,meta:{...p||{},arg:d,requestId:l,requestStatus:"fulfilled"}})),i=K(e+"/pending",(c,l,d)=>({payload:void 0,meta:{...d||{},arg:l,requestId:c,requestStatus:"pending"}})),o=K(e+"/rejected",(c,l,d,p,u)=>({payload:p,error:(r&&r.serializeError||Ao)(c||"Rejected"),meta:{...u||{},arg:d,requestId:l,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(l,d,p)=>{const u=r!=null&&r.idGenerator?r.idGenerator(c):jn(),h=new AbortController;let m,S;function b(y){S=y,h.abort()}const _=async function(){var f,v;let y;try{let w=(f=r==null?void 0:r.condition)==null?void 0:f.call(r,c,{getState:d,extra:p});if(Po(w)&&(w=await w),w===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((I,O)=>{m=()=>{O({name:"AbortError",message:S||"Aborted"})},h.signal.addEventListener("abort",m)});l(i(u,c,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:u,arg:c},{getState:d,extra:p}))),y=await Promise.race([E,Promise.resolve(n(c,{dispatch:l,getState:d,extra:p,requestId:u,signal:h.signal,abort:b,rejectWithValue:(I,O)=>new Jt(I,O),fulfillWithValue:(I,O)=>new yr(I,O)})).then(I=>{if(I instanceof Jt)throw I;return I instanceof yr?s(I.payload,u,c,I.meta):s(I,u,c)})])}catch(w){y=w instanceof Jt?o(null,u,c,w.payload,w.meta):o(w,u,c)}finally{m&&h.signal.removeEventListener("abort",m)}return r&&!r.dispatchConditionRejection&&o.match(y)&&y.meta.condition||l(y),y}();return Object.assign(_,{abort:b,requestId:u,arg:c,unwrap(){return _.then(xo)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:de(o,s),typePrefix:e})}return t.withTypes=()=>t,t})();function xo(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Po(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Do=Symbol.for("rtk-slice-createasyncthunk");function ko(t,e){return`${t}/${e}`}function No({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Do];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(V(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(Lo()):s.reducers)||{},c=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(g,f){const v=typeof g=="string"?g:g.type;if(!v)throw new Error(V(12));if(v in l.sliceCaseReducersByType)throw new Error(V(13));return l.sliceCaseReducersByType[v]=f,d},addMatcher(g,f){return l.sliceMatchers.push({matcher:g,reducer:f}),d},exposeAction(g,f){return l.actionCreators[g]=f,d},exposeCaseReducer(g,f){return l.sliceCaseReducersByName[g]=f,d}};c.forEach(g=>{const f=a[g],v={reducerName:g,type:ko(i,g),createNotation:typeof s.reducers=="function"};jo(f)?Bo(v,f,d,e):$o(v,f,d)});function p(){const[g={},f=[],v=void 0]=typeof s.extraReducers=="function"?As(s.extraReducers):[s.extraReducers],w={...g,...l.sliceCaseReducersByType};return Ro(s.initialState,E=>{for(let I in w)E.addCase(I,w[I]);for(let I of l.sliceMatchers)E.addMatcher(I.matcher,I.reducer);for(let I of f)E.addMatcher(I.matcher,I.reducer);v&&E.addDefaultCase(v)})}const u=g=>g,h=new Map;let m;function S(g,f){return m||(m=p()),m(g,f)}function b(){return m||(m=p()),m.getInitialState()}function _(g,f=!1){function v(E){let I=E[g];return typeof I>"u"&&f&&(I=b()),I}function w(E=u){const I=mr(h,f,{insert:()=>new WeakMap});return mr(I,E,{insert:()=>{const O={};for(const[R,C]of Object.entries(s.selectors??{}))O[R]=Mo(C,E,b,f);return O}})}return{reducerPath:g,getSelectors:w,get selectors(){return w(v)},selectSlice:v}}const y={name:i,reducer:S,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:b,..._(o),injectInto(g,{reducerPath:f,...v}={}){const w=f??o;return g.inject({reducerPath:w,reducer:S},v),{...y,..._(w,!0)}}};return y}}function Mo(t,e,n,r){function s(i,...o){let a=e(i);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return s.unwrapped=t,s}var ie=No();function Lo(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $o({type:t,reducerName:e,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!Fo(r))throw new Error(V(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?K(t,o):K(t))}function jo(t){return t._reducerDefinitionType==="asyncThunk"}function Fo(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Bo({type:t,reducerName:e},n,r,s){if(!s)throw new Error(V(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:c,settled:l,options:d}=n,p=s(t,i,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),a&&r.addCase(p.pending,a),c&&r.addCase(p.rejected,c),l&&r.addMatcher(p.settled,l),r.exposeCaseReducer(e,{fulfilled:o||ct,pending:a||ct,rejected:c||ct,settled:l||ct})}function ct(){}var Uo=(t,e)=>{if(typeof t!="function")throw new Error(V(32))},Bn="listenerMiddleware",zo=t=>{let{type:e,actionCreator:n,matcher:r,predicate:s,effect:i}=t;if(e)s=K(e).match;else if(n)e=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(V(21));return Uo(i),{predicate:s,type:e,effect:i}},qo=Object.assign(t=>{const{type:e,predicate:n,effect:r}=zo(t);return{id:jn(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(V(22))}}},{withTypes:()=>qo}),Ho=Object.assign(K(`${Bn}/add`),{withTypes:()=>Ho});K(`${Bn}/removeAll`);var Vo=Object.assign(K(`${Bn}/remove`),{withTypes:()=>Vo});function V(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Un="persist:",zn="persist/FLUSH",kt="persist/REHYDRATE",qn="persist/PAUSE",Hn="persist/PERSIST",Vn="persist/PURGE",Kn="persist/REGISTER",Ko=-1;function gt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gt=function(n){return typeof n}:gt=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gt(t)}function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sr(n,!0).forEach(function(r){Wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Go(t,e,n,r){r.debug;var s=Qo({},n);return t&&gt(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function Jo(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:Un).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(v){return v}:typeof t.serialize=="function"?a=t.serialize:a=Yo;var c=t.writeFailHandler||null,l={},d={},p=[],u=null,h=null,m=function(v){Object.keys(v).forEach(function(w){_(w)&&l[w]!==v[w]&&p.indexOf(w)===-1&&p.push(w)}),Object.keys(l).forEach(function(w){v[w]===void 0&&_(w)&&p.indexOf(w)===-1&&l[w]!==void 0&&p.push(w)}),u===null&&(u=setInterval(S,s)),l=v};function S(){if(p.length===0){u&&clearInterval(u),u=null;return}var f=p.shift(),v=r.reduce(function(w,E){return E.in(w,f,l)},l[f]);if(v!==void 0)try{d[f]=a(v)}catch(w){console.error("redux-persist/createPersistoid: error serializing state",w)}else delete d[f];p.length===0&&b()}function b(){Object.keys(d).forEach(function(f){l[f]===void 0&&delete d[f]}),h=o.setItem(i,a(d)).catch(y)}function _(f){return!(n&&n.indexOf(f)===-1&&f!=="_persist"||e&&e.indexOf(f)!==-1)}function y(f){c&&c(f)}var g=function(){for(;p.length!==0;)S();return h||Promise.resolve()};return{update:m,flush:g}}function Yo(t){return JSON.stringify(t)}function Xo(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Un).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(o){return o}:typeof t.deserialize=="function"?s=t.deserialize:s=Zo,r.getItem(n).then(function(i){if(i)try{var o={},a=s(i);return Object.keys(a).forEach(function(c){o[c]=e.reduceRight(function(l,d){return d.out(l,c,a)},s(a[c]))}),o}catch(c){throw c}else return})}function Zo(t){return JSON.parse(t)}function ea(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Un).concat(t.key);return e.removeItem(n,ta)}function ta(t){}function vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vr(n,!0).forEach(function(r){na(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vr(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ra(t,e){if(t==null)return{};var n=sa(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sa(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ia=5e3;function oa(t,e){var n=t.version!==void 0?t.version:Ko;t.debug;var r=t.stateReconciler===void 0?Go:t.stateReconciler,s=t.getStoredState||Xo,i=t.timeout!==void 0?t.timeout:ia,o=null,a=!1,c=!0,l=function(p){return p._persist.rehydrated&&o&&!c&&o.update(p),p};return function(d,p){var u=d||{},h=u._persist,m=ra(u,["_persist"]),S=m;if(p.type===Hn){var b=!1,_=function(I,O){b||(p.rehydrate(t.key,I,O),b=!0)};if(i&&setTimeout(function(){!b&&_(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,o||(o=Jo(t)),h)return re({},e(S,p),{_persist:h});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),s(t).then(function(E){var I=t.migrate||function(O,R){return Promise.resolve(O)};I(E,n).then(function(O){_(O)},function(O){_(void 0,O)})},function(E){_(void 0,E)}),re({},e(S,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===Vn)return a=!0,p.result(ea(t)),re({},e(S,p),{_persist:h});if(p.type===zn)return p.result(o&&o.flush()),re({},e(S,p),{_persist:h});if(p.type===qn)c=!0;else if(p.type===kt){if(a)return re({},S,{_persist:re({},h,{rehydrated:!0})});if(p.key===t.key){var y=e(S,p),g=p.payload,f=r!==!1&&g!==void 0?r(g,d,y,t):y,v=re({},f,{_persist:re({},h,{rehydrated:!0})});return l(v)}}}if(!h)return e(d,p);var w=e(S,p);return w===S?d:l(re({},w,{_persist:h}))}}function _r(t){return ua(t)||ca(t)||aa()}function aa(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ca(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function ua(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wr(n,!0).forEach(function(r){la(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function la(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ps={registry:[],bootstrapped:!1},fa=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ps,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Kn:return bn({},e,{registry:[].concat(_r(e.registry),[n.key])});case kt:var r=e.registry.indexOf(n.key),s=_r(e.registry);return s.splice(r,1),bn({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function da(t,e,n){var r=n||!1,s=Dn(fa,Ps,e&&e.enhancer?e.enhancer:void 0),i=function(l){s.dispatch({type:Kn,key:l})},o=function(l,d,p){var u={type:kt,payload:d,err:p,key:l};t.dispatch(u),s.dispatch(u),r&&a.getState().bootstrapped&&(r(),r=!1)},a=bn({},s,{purge:function(){var l=[];return t.dispatch({type:Vn,result:function(p){l.push(p)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:zn,result:function(p){l.push(p)}}),Promise.all(l)},pause:function(){t.dispatch({type:qn})},persist:function(){t.dispatch({type:Hn,register:i,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var Qn={};Qn.__esModule=!0;Qn.default=ga;function mt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mt=function(n){return typeof n}:mt=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mt(t)}function Yt(){}var pa={getItem:Yt,setItem:Yt,removeItem:Yt};function ha(t){if((typeof self>"u"?"undefined":mt(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function ga(t){var e="".concat(t,"Storage");return ha(e)?self[e]:pa}var ma=Sa,ya=ba(Qn);function ba(t){return t&&t.__esModule?t:{default:t}}function Sa(t){var e=(0,ya.default)(t);return{getItem:function(r){return new Promise(function(s,i){s(e.getItem(r))})},setItem:function(r,s){return new Promise(function(i,o){i(e.setItem(r,s))})},removeItem:function(r){return new Promise(function(s,i){s(e.removeItem(r))})}}}var Ds=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(Ds||{});function va(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}function _a(t){return new RegExp("(^|:)//").test(t)}var wa=t=>t.replace(/\/$/,""),Ea=t=>t.replace(/^\//,"");function Ia(t,e){if(!t)return e;if(!e)return t;if(_a(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=wa(t),e=Ea(e),`${t}${n}${e}`}var Er=t=>[].concat(...t);function Oa(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Ra(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var Ir=ne;function ks(t,e){if(t===e||!(Ir(t)&&Ir(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let s=n.length===r.length;const i=Array.isArray(e)?[]:{};for(const o of n)i[o]=ks(t[o],e[o]),s&&(s=t[o]===i[o]);return s?t:i}var Or=(...t)=>fetch(...t),Ca=t=>t.status>=200&&t.status<=299,Ta=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function Rr(t){if(!ne(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}function Nt({baseUrl:t,prepareHeaders:e=p=>p,fetchFn:n=Or,paramsSerializer:r,isJsonContentType:s=Ta,jsonContentType:i="application/json",jsonReplacer:o,timeout:a,responseHandler:c,validateStatus:l,...d}={}){return typeof fetch>"u"&&n===Or&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(u,h)=>{const{signal:m,getState:S,extra:b,endpoint:_,forced:y,type:g}=h;let f,{url:v,headers:w=new Headers(d.headers),params:E=void 0,responseHandler:I=c??"json",validateStatus:O=l??Ca,timeout:R=a,...C}=typeof u=="string"?{url:u}:u,T={...d,signal:m,...C};w=new Headers(Rr(w)),T.headers=await e(w,{getState:S,extra:b,endpoint:_,forced:y,type:g})||w;const x=j=>typeof j=="object"&&(ne(j)||Array.isArray(j)||typeof j.toJSON=="function");if(!T.headers.has("content-type")&&x(T.body)&&T.headers.set("content-type",i),x(T.body)&&s(T.headers)&&(T.body=JSON.stringify(T.body,o)),E){const j=~v.indexOf("?")?"&":"?",F=r?r(E):new URLSearchParams(Rr(E));v+=j+F}v=Ia(t,v);const A=new Request(v,T);f={request:new Request(v,T)};let M,B=!1,P=R&&setTimeout(()=>{B=!0,h.abort()},R);try{M=await n(A)}catch(j){return{error:{status:B?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(j)},meta:f}}finally{P&&clearTimeout(P)}const L=M.clone();f.response=L;let D,U="";try{let j;if(await Promise.all([p(M,I).then(F=>D=F,F=>j=F),L.text().then(F=>U=F,()=>{})]),j)throw j}catch(j){return{error:{status:"PARSING_ERROR",originalStatus:M.status,data:U,error:String(j)},meta:f}}return O(M,D)?{data:D,meta:f}:{error:{status:M.status,data:D},meta:f}};async function p(u,h){if(typeof h=="function")return h(u);if(h==="content-type"&&(h=s(u.headers)?"json":"text"),h==="json"){const m=await u.text();return m.length?JSON.parse(m):null}return u.text()}}var Cr=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Wn=K("__rtkq/focused"),Ns=K("__rtkq/unfocused"),Gn=K("__rtkq/online"),Ms=K("__rtkq/offline");function Ls(t){return t.type==="query"}function Aa(t){return t.type==="mutation"}function Jn(t,e,n,r,s,i){return xa(t)?t(e,n,r,s).map(Sn).map(i):Array.isArray(t)?t.map(Sn).map(i):[]}function xa(t){return typeof t=="function"}function Sn(t){return typeof t=="string"?{type:t}:t}function Tr(t){return t!=null}function Le(t){let e=0;for(const n in t)e++;return e}function Pa(t,e){return t.catch(e)}var Ze=Symbol("forceQueryFn"),vn=t=>typeof t[Ze]=="function";function Da({serializeQueryArgs:t,queryThunk:e,mutationThunk:n,api:r,context:s}){const i=new Map,o=new Map,{unsubscribeQueryResult:a,removeMutationResult:c,updateSubscriptionOptions:l}=r.internalActions;return{buildInitiateQuery:m,buildInitiateMutation:S,getRunningQueryThunk:d,getRunningMutationThunk:p,getRunningQueriesThunk:u,getRunningMutationsThunk:h};function d(b,_){return y=>{var v;const g=s.endpointDefinitions[b],f=t({queryArgs:_,endpointDefinition:g,endpointName:b});return(v=i.get(y))==null?void 0:v[f]}}function p(b,_){return y=>{var g;return(g=o.get(y))==null?void 0:g[_]}}function u(){return b=>Object.values(i.get(b)||{}).filter(Tr)}function h(){return b=>Object.values(o.get(b)||{}).filter(Tr)}function m(b,_){const y=(g,{subscribe:f=!0,forceRefetch:v,subscriptionOptions:w,[Ze]:E,...I}={})=>(O,R)=>{var j;const C=t({queryArgs:g,endpointDefinition:_,endpointName:b}),T=e({...I,type:"query",subscribe:f,forceRefetch:v,subscriptionOptions:w,endpointName:b,originalArgs:g,queryCacheKey:C,[Ze]:E}),x=r.endpoints[b].select(g),A=O(T),k=x(R()),{requestId:M,abort:B}=A,P=k.requestId!==M,L=(j=i.get(O))==null?void 0:j[C],D=()=>x(R()),U=Object.assign(E?A.then(D):P&&!L?Promise.resolve(k):Promise.all([L,A]).then(D),{arg:g,requestId:M,subscriptionOptions:w,queryCacheKey:C,abort:B,async unwrap(){const F=await U;if(F.isError)throw F.error;return F.data},refetch:()=>O(y(g,{subscribe:!1,forceRefetch:!0})),unsubscribe(){f&&O(a({queryCacheKey:C,requestId:M}))},updateSubscriptionOptions(F){U.subscriptionOptions=F,O(l({endpointName:b,requestId:M,queryCacheKey:C,options:F}))}});if(!L&&!P&&!E){const F=i.get(O)||{};F[C]=U,i.set(O,F),U.then(()=>{delete F[C],Le(F)||i.delete(O)})}return U};return y}function S(b){return(_,{track:y=!0,fixedCacheKey:g}={})=>(f,v)=>{const w=n({type:"mutation",endpointName:b,originalArgs:_,track:y,fixedCacheKey:g}),E=f(w),{requestId:I,abort:O,unwrap:R}=E,C=Pa(E.unwrap().then(k=>({data:k})),k=>({error:k})),T=()=>{f(c({requestId:I,fixedCacheKey:g}))},x=Object.assign(C,{arg:E.arg,requestId:I,abort:O,unwrap:R,reset:T}),A=o.get(f)||{};return o.set(f,A),A[I]=x,x.then(()=>{delete A[I],Le(A)||o.delete(f)}),g&&(A[g]=x,x.then(()=>{A[g]===x&&(delete A[g],Le(A)||o.delete(f))})),x}}}function Ar(t){return t}function ka({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:s,assertTagType:i}){const o=(y,g,f,v)=>(w,E)=>{const I=n[y],O=r({queryArgs:g,endpointDefinition:I,endpointName:y});if(w(s.internalActions.queryResultPatched({queryCacheKey:O,patches:f})),!v)return;const R=s.endpoints[y].select(g)(E()),C=Jn(I.providesTags,R.data,void 0,g,{},i);w(s.internalActions.updateProvidedBy({queryCacheKey:O,providedTags:C}))},a=(y,g,f,v=!0)=>(w,E)=>{const O=s.endpoints[y].select(g)(E());let R={patches:[],inversePatches:[],undo:()=>w(s.util.patchQueryData(y,g,R.inversePatches,v))};if(O.status==="uninitialized")return R;let C;if("data"in O)if(Z(O.data)){const[T,x,A]=Is(O.data,f);R.patches.push(...x),R.inversePatches.push(...A),C=T}else C=f(O.data),R.patches.push({op:"replace",path:[],value:C}),R.inversePatches.push({op:"replace",path:[],value:O.data});return w(s.util.patchQueryData(y,g,R.patches,v)),R},c=(y,g,f)=>v=>v(s.endpoints[y].initiate(g,{subscribe:!1,forceRefetch:!0,[Ze]:()=>({data:f})})),l=async(y,{signal:g,abort:f,rejectWithValue:v,fulfillWithValue:w,dispatch:E,getState:I,extra:O})=>{const R=n[y.endpointName];try{let C=Ar,T;const x={signal:g,abort:f,dispatch:E,getState:I,extra:O,endpoint:y.endpointName,type:y.type,forced:y.type==="query"?d(y,I()):void 0},A=y.type==="query"?y[Ze]:void 0;if(A?T=A():R.query?(T=await e(R.query(y.originalArgs),x,R.extraOptions),R.transformResponse&&(C=R.transformResponse)):T=await R.queryFn(y.originalArgs,x,R.extraOptions,k=>e(k,x,R.extraOptions)),typeof process<"u",T.error)throw new Cr(T.error,T.meta);return w(await C(T.data,T.meta,y.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:T.meta,[Me]:!0})}catch(C){let T=C;if(T instanceof Cr){let x=Ar;R.query&&R.transformErrorResponse&&(x=R.transformErrorResponse);try{return v(await x(T.value,T.meta,y.originalArgs),{baseQueryMeta:T.meta,[Me]:!0})}catch(A){T=A}}throw typeof process<"u",console.error(T),T}};function d(y,g){var I,O,R;const f=(O=(I=g[t])==null?void 0:I.queries)==null?void 0:O[y.queryCacheKey],v=(R=g[t])==null?void 0:R.config.refetchOnMountOrArgChange,w=f==null?void 0:f.fulfilledTimeStamp,E=y.forceRefetch??(y.subscribe&&v);return E?E===!0||(Number(new Date)-Number(w))/1e3>=E:!1}const p=br(`${t}/executeQuery`,l,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Me]:!0}},condition(y,{getState:g}){var R,C,T;const f=g(),v=(C=(R=f[t])==null?void 0:R.queries)==null?void 0:C[y.queryCacheKey],w=v==null?void 0:v.fulfilledTimeStamp,E=y.originalArgs,I=v==null?void 0:v.originalArgs,O=n[y.endpointName];return vn(y)?!0:(v==null?void 0:v.status)==="pending"?!1:d(y,f)||Ls(O)&&((T=O==null?void 0:O.forceRefetch)!=null&&T.call(O,{currentArg:E,previousArg:I,endpointState:v,state:f}))?!0:!w},dispatchConditionRejection:!0}),u=br(`${t}/executeMutation`,l,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Me]:!0}}}),h=y=>"force"in y,m=y=>"ifOlderThan"in y,S=(y,g,f)=>(v,w)=>{const E=h(f)&&f.force,I=m(f)&&f.ifOlderThan,O=(C=!0)=>{const T={forceRefetch:C,isPrefetch:!0};return s.endpoints[y].initiate(g,T)},R=s.endpoints[y].select(g)(w());if(E)v(O());else if(I){const C=R==null?void 0:R.fulfilledTimeStamp;if(!C){v(O());return}(Number(new Date)-Number(new Date(C)))/1e3>=I&&v(O())}else v(O(!1))};function b(y){return g=>{var f,v;return((v=(f=g==null?void 0:g.meta)==null?void 0:f.arg)==null?void 0:v.endpointName)===y}}function _(y,g){return{matchPending:Ke(Fn(y),b(g)),matchFulfilled:Ke(pe(y),b(g)),matchRejected:Ke(je(y),b(g))}}return{queryThunk:p,mutationThunk:u,prefetch:S,updateQueryData:a,upsertQueryData:c,patchQueryData:o,buildMatchThunkActions:_}}function $s(t,e,n,r){return Jn(n[t.meta.arg.endpointName][e],pe(t)?t.payload:void 0,Dt(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function ut(t,e,n){const r=t[e];r&&n(r)}function et(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function xr(t,e,n){const r=t[et(e)];r&&n(r)}var Be={};function Na({reducerPath:t,queryThunk:e,mutationThunk:n,context:{endpointDefinitions:r,apiUid:s,extractRehydrationInfo:i,hasRehydrationInfo:o},assertTagType:a,config:c}){const l=K(`${t}/resetApiState`),d=ie({name:`${t}/queries`,initialState:Be,reducers:{removeQueryResult:{reducer(g,{payload:{queryCacheKey:f}}){delete g[f]},prepare:Fe()},queryResultPatched:{reducer(g,{payload:{queryCacheKey:f,patches:v}}){ut(g,f,w=>{w.data=dr(w.data,v.concat())})},prepare:Fe()}},extraReducers(g){g.addCase(e.pending,(f,{meta:v,meta:{arg:w}})=>{var I;const E=vn(w);f[I=w.queryCacheKey]??(f[I]={status:"uninitialized",endpointName:w.endpointName}),ut(f,w.queryCacheKey,O=>{O.status="pending",O.requestId=E&&O.requestId?O.requestId:v.requestId,w.originalArgs!==void 0&&(O.originalArgs=w.originalArgs),O.startedTimeStamp=v.startedTimeStamp})}).addCase(e.fulfilled,(f,{meta:v,payload:w})=>{ut(f,v.arg.queryCacheKey,E=>{if(E.requestId!==v.requestId&&!vn(v.arg))return;const{merge:I}=r[v.arg.endpointName];if(E.status="fulfilled",I)if(E.data!==void 0){const{fulfilledTimeStamp:O,arg:R,baseQueryMeta:C,requestId:T}=v;let x=it(E.data,A=>I(A,w,{arg:R.originalArgs,baseQueryMeta:C,fulfilledTimeStamp:O,requestId:T}));E.data=x}else E.data=w;else E.data=r[v.arg.endpointName].structuralSharing??!0?ks(X(E.data)?Qi(E.data):E.data,w):w;delete E.error,E.fulfilledTimeStamp=v.fulfilledTimeStamp})}).addCase(e.rejected,(f,{meta:{condition:v,arg:w,requestId:E},error:I,payload:O})=>{ut(f,w.queryCacheKey,R=>{if(!v){if(R.requestId!==E)return;R.status="rejected",R.error=O??I}})}).addMatcher(o,(f,v)=>{const{queries:w}=i(v);for(const[E,I]of Object.entries(w))((I==null?void 0:I.status)==="fulfilled"||(I==null?void 0:I.status)==="rejected")&&(f[E]=I)})}}),p=ie({name:`${t}/mutations`,initialState:Be,reducers:{removeMutationResult:{reducer(g,{payload:f}){const v=et(f);v in g&&delete g[v]},prepare:Fe()}},extraReducers(g){g.addCase(n.pending,(f,{meta:v,meta:{requestId:w,arg:E,startedTimeStamp:I}})=>{E.track&&(f[et(v)]={requestId:w,status:"pending",endpointName:E.endpointName,startedTimeStamp:I})}).addCase(n.fulfilled,(f,{payload:v,meta:w})=>{w.arg.track&&xr(f,w,E=>{E.requestId===w.requestId&&(E.status="fulfilled",E.data=v,E.fulfilledTimeStamp=w.fulfilledTimeStamp)})}).addCase(n.rejected,(f,{payload:v,error:w,meta:E})=>{E.arg.track&&xr(f,E,I=>{I.requestId===E.requestId&&(I.status="rejected",I.error=v??w)})}).addMatcher(o,(f,v)=>{const{mutations:w}=i(v);for(const[E,I]of Object.entries(w))((I==null?void 0:I.status)==="fulfilled"||(I==null?void 0:I.status)==="rejected")&&E!==(I==null?void 0:I.requestId)&&(f[E]=I)})}}),u=ie({name:`${t}/invalidation`,initialState:Be,reducers:{updateProvidedBy:{reducer(g,f){var E,I;const{queryCacheKey:v,providedTags:w}=f.payload;for(const O of Object.values(g))for(const R of Object.values(O)){const C=R.indexOf(v);C!==-1&&R.splice(C,1)}for(const{type:O,id:R}of w){const C=(E=g[O]??(g[O]={}))[I=R||"__internal_without_id"]??(E[I]=[]);C.includes(v)||C.push(v)}},prepare:Fe()}},extraReducers(g){g.addCase(d.actions.removeQueryResult,(f,{payload:{queryCacheKey:v}})=>{for(const w of Object.values(f))for(const E of Object.values(w)){const I=E.indexOf(v);I!==-1&&E.splice(I,1)}}).addMatcher(o,(f,v)=>{var E,I;const{provided:w}=i(v);for(const[O,R]of Object.entries(w))for(const[C,T]of Object.entries(R)){const x=(E=f[O]??(f[O]={}))[I=C||"__internal_without_id"]??(E[I]=[]);for(const A of T)x.includes(A)||x.push(A)}}).addMatcher(de(pe(e),Dt(e)),(f,v)=>{const w=$s(v,"providesTags",r,a),{queryCacheKey:E}=v.meta.arg;u.caseReducers.updateProvidedBy(f,u.actions.updateProvidedBy({queryCacheKey:E,providedTags:w}))})}}),h=ie({name:`${t}/subscriptions`,initialState:Be,reducers:{updateSubscriptionOptions(g,f){},unsubscribeQueryResult(g,f){},internal_getRTKQSubscriptions(){}}}),m=ie({name:`${t}/internalSubscriptions`,initialState:Be,reducers:{subscriptionsUpdated:{reducer(g,f){return dr(g,f.payload)},prepare:Fe()}}}),S=ie({name:`${t}/config`,initialState:{online:Oa(),focused:Ra(),middlewareRegistered:!1,...c},reducers:{middlewareRegistered(g,{payload:f}){g.middlewareRegistered=g.middlewareRegistered==="conflict"||s!==f?"conflict":!0}},extraReducers:g=>{g.addCase(Gn,f=>{f.online=!0}).addCase(Ms,f=>{f.online=!1}).addCase(Wn,f=>{f.focused=!0}).addCase(Ns,f=>{f.focused=!1}).addMatcher(o,f=>({...f}))}}),b=kn({queries:d.reducer,mutations:p.reducer,provided:u.reducer,subscriptions:m.reducer,config:S.reducer}),_=(g,f)=>b(l.match(f)?void 0:g,f),y={...S.actions,...d.actions,...h.actions,...m.actions,...p.actions,...u.actions,resetApiState:l};return{reducer:_,actions:y}}var ye=Symbol.for("RTKQ/skipToken"),js={status:"uninitialized"},Pr=it(js,()=>{}),Dr=it(js,()=>{});function Ma({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=p=>Pr,s=p=>Dr;return{buildQuerySelector:a,buildMutationSelector:c,selectInvalidatedBy:l,selectCachedArgsForQuery:d};function i(p){return{...p,...va(p.status)}}function o(p){return p[e]}function a(p,u){return h=>{const m=t({queryArgs:h,endpointDefinition:u,endpointName:p});return n(h===ye?r:_=>{var y,g;return((g=(y=o(_))==null?void 0:y.queries)==null?void 0:g[m])??Pr},i)}}function c(){return p=>{let u;return typeof p=="object"?u=et(p)??ye:u=p,n(u===ye?s:S=>{var b,_;return((_=(b=o(S))==null?void 0:b.mutations)==null?void 0:_[u])??Dr},i)}}function l(p,u){const h=p[e],m=new Set;for(const S of u.map(Sn)){const b=h.provided[S.type];if(!b)continue;let _=(S.id!==void 0?b[S.id]:Er(Object.values(b)))??[];for(const y of _)m.add(y)}return Er(Array.from(m.values()).map(S=>{const b=h.queries[S];return b?[{queryCacheKey:S,endpointName:b.endpointName,originalArgs:b.originalArgs}]:[]}))}function d(p,u){return Object.values(p[e].queries).filter(h=>(h==null?void 0:h.endpointName)===u&&h.status!=="uninitialized").map(h=>h.originalArgs)}}var xe=WeakMap?new WeakMap:void 0,kr=({endpointName:t,queryArgs:e})=>{let n="";const r=xe==null?void 0:xe.get(e);if(typeof r=="string")n=r;else{const s=JSON.stringify(e,(i,o)=>ne(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):o);ne(e)&&(xe==null||xe.set(e,s)),n=s}return`${t}(${n})`};function La(...t){return function(n){const r=Xe(l=>{var d;return(d=n.extractRehydrationInfo)==null?void 0:d.call(n,l,{reducerPath:n.reducerPath??"api"})}),s={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(l){let d=kr;if("serializeQueryArgs"in l.endpointDefinition){const p=l.endpointDefinition.serializeQueryArgs;d=u=>{const h=p(u);return typeof h=="string"?h:kr({...u,queryArgs:h})}}else n.serializeQueryArgs&&(d=n.serializeQueryArgs);return d(l)},tagTypes:[...n.tagTypes||[]]},i={endpointDefinitions:{},batch(l){l()},apiUid:jn(),extractRehydrationInfo:r,hasRehydrationInfo:Xe(l=>r(l)!=null)},o={injectEndpoints:c,enhanceEndpoints({addTagTypes:l,endpoints:d}){if(l)for(const p of l)s.tagTypes.includes(p)||s.tagTypes.push(p);if(d)for(const[p,u]of Object.entries(d))typeof u=="function"?u(i.endpointDefinitions[p]):Object.assign(i.endpointDefinitions[p]||{},u);return o}},a=t.map(l=>l.init(o,s,i));function c(l){const d=l.endpoints({query:p=>({...p,type:"query"}),mutation:p=>({...p,type:"mutation"})});for(const[p,u]of Object.entries(d)){if(l.overrideExisting!==!0&&p in i.endpointDefinitions){if(l.overrideExisting==="throw")throw new Error(V(39));typeof process<"u";continue}i.endpointDefinitions[p]=u;for(const h of a)h.injectEndpoint(p,u)}return o}return o.injectEndpoints({endpoints:n.endpoints})}}function $a(t){for(let e in t)return!1;return!0}var ja=2147483647/1e3-1,Fa=({reducerPath:t,api:e,context:n,internalState:r})=>{const{removeQueryResult:s,unsubscribeQueryResult:i}=e.internalActions;function o(d){const p=r.currentSubscriptions[d];return!!p&&!$a(p)}const a={},c=(d,p,u)=>{var h;if(i.match(d)){const m=p.getState()[t],{queryCacheKey:S}=d.payload;l(S,(h=m.queries[S])==null?void 0:h.endpointName,p,m.config)}if(e.util.resetApiState.match(d))for(const[m,S]of Object.entries(a))S&&clearTimeout(S),delete a[m];if(n.hasRehydrationInfo(d)){const m=p.getState()[t],{queries:S}=n.extractRehydrationInfo(d);for(const[b,_]of Object.entries(S))l(b,_==null?void 0:_.endpointName,p,m.config)}};function l(d,p,u,h){const m=n.endpointDefinitions[p],S=(m==null?void 0:m.keepUnusedDataFor)??h.keepUnusedDataFor;if(S===1/0)return;const b=Math.max(0,Math.min(S,ja));if(!o(d)){const _=a[d];_&&clearTimeout(_),a[d]=setTimeout(()=>{o(d)||u.dispatch(s({queryCacheKey:d})),delete a[d]},b*1e3)}}return c},Ba=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:s,api:i,assertTagType:o,refetchQuery:a,internalState:c})=>{const{removeQueryResult:l}=i.internalActions,d=de(pe(r),Dt(r)),p=de(pe(r,s),je(r,s));let u=[];const h=(b,_)=>{d(b)?S($s(b,"invalidatesTags",n,o),_):p(b)?S([],_):i.util.invalidateTags.match(b)&&S(Jn(b.payload,void 0,void 0,void 0,void 0,o),_)};function m(b){var _,y;for(const g in b.queries)if(((_=b.queries[g])==null?void 0:_.status)==="pending")return!0;for(const g in b.mutations)if(((y=b.mutations[g])==null?void 0:y.status)==="pending")return!0;return!1}function S(b,_){const y=_.getState(),g=y[t];if(u.push(...b),g.config.invalidationBehavior==="delayed"&&m(g))return;const f=u;if(u=[],f.length===0)return;const v=i.util.selectInvalidatedBy(y,f);e.batch(()=>{const w=Array.from(v.values());for(const{queryCacheKey:E}of w){const I=g.queries[E],O=c.currentSubscriptions[E]??{};I&&(Le(O)===0?_.dispatch(l({queryCacheKey:E})):I.status!=="uninitialized"&&_.dispatch(a(I,E)))}})}return h},Ua=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:s})=>{const i={},o=(u,h)=>{(n.internalActions.updateSubscriptionOptions.match(u)||n.internalActions.unsubscribeQueryResult.match(u))&&c(u.payload,h),(e.pending.match(u)||e.rejected.match(u)&&u.meta.condition)&&c(u.meta.arg,h),(e.fulfilled.match(u)||e.rejected.match(u)&&!u.meta.condition)&&a(u.meta.arg,h),n.util.resetApiState.match(u)&&d()};function a({queryCacheKey:u},h){const m=h.getState()[t],S=m.queries[u],b=s.currentSubscriptions[u];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:_,skipPollingIfUnfocused:y}=p(b);if(!Number.isFinite(_))return;const g=i[u];g!=null&&g.timeout&&(clearTimeout(g.timeout),g.timeout=void 0);const f=Date.now()+_;i[u]={nextPollTimestamp:f,pollingInterval:_,timeout:setTimeout(()=>{(m.config.focused||!y)&&h.dispatch(r(S,u)),a({queryCacheKey:u},h)},_)}}function c({queryCacheKey:u},h){const S=h.getState()[t].queries[u],b=s.currentSubscriptions[u];if(!S||S.status==="uninitialized")return;const{lowestPollingInterval:_}=p(b);if(!Number.isFinite(_)){l(u);return}const y=i[u],g=Date.now()+_;(!y||g<y.nextPollTimestamp)&&a({queryCacheKey:u},h)}function l(u){const h=i[u];h!=null&&h.timeout&&clearTimeout(h.timeout),delete i[u]}function d(){for(const u of Object.keys(i))l(u)}function p(u={}){let h=!1,m=Number.POSITIVE_INFINITY;for(let S in u)u[S].pollingInterval&&(m=Math.min(u[S].pollingInterval,m),h=u[S].skipPollingIfUnfocused||h);return{lowestPollingInterval:m,skipPollingIfUnfocused:h}}return o},za=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:s})=>{const{removeQueryResult:i}=n.internalActions,o=(c,l)=>{Wn.match(c)&&a(l,"refetchOnFocus"),Gn.match(c)&&a(l,"refetchOnReconnect")};function a(c,l){const d=c.getState()[t],p=d.queries,u=s.currentSubscriptions;e.batch(()=>{for(const h of Object.keys(u)){const m=p[h],S=u[h];if(!S||!m)continue;(Object.values(S).some(_=>_[l]===!0)||Object.values(S).every(_=>_[l]===void 0)&&d.config[l])&&(Le(S)===0?c.dispatch(i({queryCacheKey:h})):m.status!=="uninitialized"&&c.dispatch(r(m,h)))}})}return o},Nr=new Error("Promise never resolved before cacheEntryRemoved."),qa=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:s,internalState:i})=>{const o=yn(r),a=yn(s),c=pe(r,s),l={},d=(h,m,S)=>{const b=p(h);if(r.pending.match(h)){const _=S[e].queries[b],y=m.getState()[e].queries[b];!_&&y&&u(h.meta.arg.endpointName,h.meta.arg.originalArgs,b,m,h.meta.requestId)}else if(s.pending.match(h))m.getState()[e].mutations[b]&&u(h.meta.arg.endpointName,h.meta.arg.originalArgs,b,m,h.meta.requestId);else if(c(h)){const _=l[b];_!=null&&_.valueResolved&&(_.valueResolved({data:h.payload,meta:h.meta.baseQueryMeta}),delete _.valueResolved)}else if(t.internalActions.removeQueryResult.match(h)||t.internalActions.removeMutationResult.match(h)){const _=l[b];_&&(delete l[b],_.cacheEntryRemoved())}else if(t.util.resetApiState.match(h))for(const[_,y]of Object.entries(l))delete l[_],y.cacheEntryRemoved()};function p(h){return o(h)?h.meta.arg.queryCacheKey:a(h)?h.meta.arg.fixedCacheKey??h.meta.requestId:t.internalActions.removeQueryResult.match(h)?h.payload.queryCacheKey:t.internalActions.removeMutationResult.match(h)?et(h.payload):""}function u(h,m,S,b,_){const y=n.endpointDefinitions[h],g=y==null?void 0:y.onCacheEntryAdded;if(!g)return;let f={};const v=new Promise(C=>{f.cacheEntryRemoved=C}),w=Promise.race([new Promise(C=>{f.valueResolved=C}),v.then(()=>{throw Nr})]);w.catch(()=>{}),l[S]=f;const E=t.endpoints[h].select(y.type==="query"?m:S),I=b.dispatch((C,T,x)=>x),O={...b,getCacheEntry:()=>E(b.getState()),requestId:_,extra:I,updateCachedData:y.type==="query"?C=>b.dispatch(t.util.updateQueryData(h,m,C)):void 0,cacheDataLoaded:w,cacheEntryRemoved:v},R=g(m,O);Promise.resolve(R).catch(C=>{if(C!==Nr)throw C})}return d},Ha=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const s=Fn(n,r),i=je(n,r),o=pe(n,r),a={};return(l,d)=>{var p,u;if(s(l)){const{requestId:h,arg:{endpointName:m,originalArgs:S}}=l.meta,b=e.endpointDefinitions[m],_=b==null?void 0:b.onQueryStarted;if(_){const y={},g=new Promise((E,I)=>{y.resolve=E,y.reject=I});g.catch(()=>{}),a[h]=y;const f=t.endpoints[m].select(b.type==="query"?S:h),v=d.dispatch((E,I,O)=>O),w={...d,getCacheEntry:()=>f(d.getState()),requestId:h,extra:v,updateCachedData:b.type==="query"?E=>d.dispatch(t.util.updateQueryData(m,S,E)):void 0,queryFulfilled:g};_(S,w)}}else if(o(l)){const{requestId:h,baseQueryMeta:m}=l.meta;(p=a[h])==null||p.resolve({data:l.payload,meta:m}),delete a[h]}else if(i(l)){const{requestId:h,rejectedWithValue:m,baseQueryMeta:S}=l.meta;(u=a[h])==null||u.reject({error:l.payload??l.error,isUnhandledError:!m,meta:S}),delete a[h]}}},Va=({api:t,context:{apiUid:e},reducerPath:n})=>(r,s)=>{t.util.resetApiState.match(r)&&s.dispatch(t.internalActions.middlewareRegistered(e)),typeof process<"u"},Ka=({api:t,queryThunk:e,internalState:n})=>{const r=`${t.reducerPath}/subscriptions`;let s=null,i=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=t.internalActions,c=(h,m)=>{var b,_,y;if(o.match(m)){const{queryCacheKey:g,requestId:f,options:v}=m.payload;return(b=h==null?void 0:h[g])!=null&&b[f]&&(h[g][f]=v),!0}if(a.match(m)){const{queryCacheKey:g,requestId:f}=m.payload;return h[g]&&delete h[g][f],!0}if(t.internalActions.removeQueryResult.match(m))return delete h[m.payload.queryCacheKey],!0;if(e.pending.match(m)){const{meta:{arg:g,requestId:f}}=m,v=h[_=g.queryCacheKey]??(h[_]={});return v[`${f}_running`]={},g.subscribe&&(v[f]=g.subscriptionOptions??v[f]??{}),!0}let S=!1;if(e.fulfilled.match(m)||e.rejected.match(m)){const g=h[m.meta.arg.queryCacheKey]||{},f=`${m.meta.requestId}_running`;S||(S=!!g[f]),delete g[f]}if(e.rejected.match(m)){const{meta:{condition:g,arg:f,requestId:v}}=m;if(g&&f.subscribe){const w=h[y=f.queryCacheKey]??(h[y]={});w[v]=f.subscriptionOptions??w[v]??{},S=!0}}return S},l=()=>n.currentSubscriptions,u={getSubscriptions:l,getSubscriptionCount:h=>{const S=l()[h]??{};return Le(S)},isRequestSubscribed:(h,m)=>{var b;const S=l();return!!((b=S==null?void 0:S[h])!=null&&b[m])}};return(h,m)=>{if(s||(s=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(h))return s=n.currentSubscriptions={},i=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(h))return[!1,u];const S=c(n.currentSubscriptions,h);let b=!0;if(S){i||(i=setTimeout(()=>{const g=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,f]=Is(s,()=>g);m.next(t.internalActions.subscriptionsUpdated(f)),s=g,i=null},500));const _=typeof h.type=="string"&&!!h.type.startsWith(r),y=e.rejected.match(h)&&h.meta.condition&&!!h.meta.arg.subscribe;b=!_&&!y}return[b,!1]}};function Qa(t){const{reducerPath:e,queryThunk:n,api:r,context:s}=t,{apiUid:i}=s,o={invalidateTags:K(`${e}/invalidateTags`)},a=p=>p.type.startsWith(`${e}/`),c=[Va,Fa,Ba,Ua,qa,Ha];return{middleware:p=>{let u=!1;const m={...t,internalState:{currentSubscriptions:{}},refetchQuery:d,isThisApiSliceAction:a},S=c.map(y=>y(m)),b=Ka(m),_=za(m);return y=>g=>{if(!ys(g))return y(g);u||(u=!0,p.dispatch(r.internalActions.middlewareRegistered(i)));const f={...p,next:y},v=p.getState(),[w,E]=b(g,f,v);let I;if(w?I=y(g):I=E,p.getState()[e]&&(_(g,f,v),a(g)||s.hasRehydrationInfo(g)))for(let O of S)O(g,f,v);return I}},actions:o};function d(p,u,h={}){return n({type:"query",endpointName:p.endpointName,originalArgs:p.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:u,...h})}}function ae(t,...e){return Object.assign(t,...e)}var Mr=Symbol(),Wa=({createSelector:t=$n}={})=>({name:Mr,init(e,{baseQuery:n,tagTypes:r,reducerPath:s,serializeQueryArgs:i,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:c,refetchOnReconnect:l,invalidationBehavior:d},p){no();const u=P=>(typeof process<"u",P);Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:Gn,onOffline:Ms,onFocus:Wn,onFocusLost:Ns},util:{}});const{queryThunk:h,mutationThunk:m,patchQueryData:S,updateQueryData:b,upsertQueryData:_,prefetch:y,buildMatchThunkActions:g}=ka({baseQuery:n,reducerPath:s,context:p,api:e,serializeQueryArgs:i,assertTagType:u}),{reducer:f,actions:v}=Na({context:p,queryThunk:h,mutationThunk:m,reducerPath:s,assertTagType:u,config:{refetchOnFocus:c,refetchOnReconnect:l,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:s,invalidationBehavior:d}});ae(e.util,{patchQueryData:S,updateQueryData:b,upsertQueryData:_,prefetch:y,resetApiState:v.resetApiState}),ae(e.internalActions,v);const{middleware:w,actions:E}=Qa({reducerPath:s,context:p,queryThunk:h,mutationThunk:m,api:e,assertTagType:u});ae(e.util,E),ae(e,{reducer:f,middleware:w});const{buildQuerySelector:I,buildMutationSelector:O,selectInvalidatedBy:R,selectCachedArgsForQuery:C}=Ma({serializeQueryArgs:i,reducerPath:s,createSelector:t});ae(e.util,{selectInvalidatedBy:R,selectCachedArgsForQuery:C});const{buildInitiateQuery:T,buildInitiateMutation:x,getRunningMutationThunk:A,getRunningMutationsThunk:k,getRunningQueriesThunk:M,getRunningQueryThunk:B}=Da({queryThunk:h,mutationThunk:m,api:e,serializeQueryArgs:i,context:p});return ae(e.util,{getRunningMutationThunk:A,getRunningMutationsThunk:k,getRunningQueryThunk:B,getRunningQueriesThunk:M}),{name:Mr,injectEndpoint(P,L){var U;const D=e;(U=D.endpoints)[P]??(U[P]={}),Ls(L)?ae(D.endpoints[P],{name:P,select:I(P,L),initiate:T(P,L)},g(h,P)):Aa(L)&&ae(D.endpoints[P],{name:P,select:O(),initiate:x(P)},g(m,P))}}}});function Ga(t){return t.type==="query"}function Ja(t){return t.type==="mutation"}function lt(t,...e){return Object.assign(t,...e)}function Xt(t){return t.replace(t[0],t[0].toUpperCase())}var Pe=WeakMap?new WeakMap:void 0,Ya=({endpointName:t,queryArgs:e})=>{let n="";const r=Pe==null?void 0:Pe.get(e);if(typeof r=="string")n=r;else{const s=JSON.stringify(e,(i,o)=>ne(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):o);ne(e)&&(Pe==null||Pe.set(e,s)),n=s}return`${t}(${n})`},Zt=Symbol();function Lr(t,e,n,r){const s=N.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}),[t,e,n,r]),i=N.useRef(s);return N.useEffect(()=>{i.current.serialized!==s.serialized&&(i.current=s)},[s]),i.current.serialized===s.serialized?i.current.queryArgs:t}function en(t){const e=N.useRef(t);return N.useEffect(()=>{He(e.current,t)||(e.current=t)},[t]),He(e.current,t)?e.current:t}var Xa=typeof window<"u"&&window.document&&window.document.createElement?N.useLayoutEffect:N.useEffect,Za=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:Ds.pending}:t;function ec({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:s},unstable__sideEffectsInRender:i,createSelector:o},serializeQueryArgs:a,context:c}){const l=i?m=>m():N.useEffect;return{buildQueryHooks:u,buildMutationHook:h,usePrefetch:p};function d(m,S,b){if(S!=null&&S.endpointName&&m.isUninitialized){const{endpointName:w}=S,E=c.endpointDefinitions[w];a({queryArgs:S.originalArgs,endpointDefinition:E,endpointName:w})===a({queryArgs:b,endpointDefinition:E,endpointName:w})&&(S=void 0)}let _=m.isSuccess?m.data:S==null?void 0:S.data;_===void 0&&(_=m.data);const y=_!==void 0,g=m.isLoading,f=!y&&g,v=m.isSuccess||g&&y;return{...m,data:_,currentData:m.data,isFetching:g,isLoading:f,isSuccess:v}}function p(m,S){const b=n(),_=en(S);return N.useCallback((y,g)=>b(t.util.prefetch(m,y,{..._,...g})),[m,b,_])}function u(m){const S=(y,{refetchOnReconnect:g,refetchOnFocus:f,refetchOnMountOrArgChange:v,skip:w=!1,pollingInterval:E=0,skipPollingIfUnfocused:I=!1}={})=>{const{initiate:O}=t.endpoints[m],R=n(),C=N.useRef();if(!C.current){const D=R(t.internalActions.internal_getRTKQSubscriptions());C.current=D}const T=Lr(w?ye:y,Ya,c.endpointDefinitions[m],m),x=en({refetchOnReconnect:g,refetchOnFocus:f,pollingInterval:E,skipPollingIfUnfocused:I}),A=N.useRef(!1),k=N.useRef();let{queryCacheKey:M,requestId:B}=k.current||{},P=!1;M&&B&&(P=C.current.isRequestSubscribed(M,B));const L=!P&&A.current;return l(()=>{A.current=P}),l(()=>{L&&(k.current=void 0)},[L]),l(()=>{var j;const D=k.current;if(typeof process<"u",T===ye){D==null||D.unsubscribe(),k.current=void 0;return}const U=(j=k.current)==null?void 0:j.subscriptionOptions;if(!D||D.arg!==T){D==null||D.unsubscribe();const F=R(O(T,{subscriptionOptions:x,forceRefetch:v}));k.current=F}else x!==U&&D.updateSubscriptionOptions(x)},[R,O,v,T,x,L]),N.useEffect(()=>()=>{var D;(D=k.current)==null||D.unsubscribe(),k.current=void 0},[]),N.useMemo(()=>({refetch:()=>{var D;if(!k.current)throw new Error(V(38));return(D=k.current)==null?void 0:D.refetch()}}),[])},b=({refetchOnReconnect:y,refetchOnFocus:g,pollingInterval:f=0,skipPollingIfUnfocused:v=!1}={})=>{const{initiate:w}=t.endpoints[m],E=n(),[I,O]=N.useState(Zt),R=N.useRef(),C=en({refetchOnReconnect:y,refetchOnFocus:g,pollingInterval:f,skipPollingIfUnfocused:v});l(()=>{var k,M;const A=(k=R.current)==null?void 0:k.subscriptionOptions;C!==A&&((M=R.current)==null||M.updateSubscriptionOptions(C))},[C]);const T=N.useRef(C);l(()=>{T.current=C},[C]);const x=N.useCallback(function(A,k=!1){let M;return e(()=>{var B;(B=R.current)==null||B.unsubscribe(),R.current=M=E(w(A,{subscriptionOptions:T.current,forceRefetch:!k})),O(A)}),M},[E,w]);return N.useEffect(()=>()=>{var A;(A=R==null?void 0:R.current)==null||A.unsubscribe()},[]),N.useEffect(()=>{I!==Zt&&!R.current&&x(I,!0)},[I,x]),N.useMemo(()=>[x,I],[x,I])},_=(y,{skip:g=!1,selectFromResult:f}={})=>{const{select:v}=t.endpoints[m],w=Lr(g?ye:y,a,c.endpointDefinitions[m],m),E=N.useRef(),I=N.useMemo(()=>o([v(w),(x,A)=>A,x=>w],d,{memoizeOptions:{resultEqualityCheck:He}}),[v,w]),O=N.useMemo(()=>f?o([I],f,{devModeChecks:{identityFunctionCheck:"never"}}):I,[I,f]),R=r(x=>O(x,E.current),He),C=s(),T=I(C.getState(),E.current);return Xa(()=>{E.current=T},[T]),R};return{useQueryState:_,useQuerySubscription:S,useLazyQuerySubscription:b,useLazyQuery(y){const[g,f]=b(y),v=_(f,{...y,skip:f===Zt}),w=N.useMemo(()=>({lastArg:f}),[f]);return N.useMemo(()=>[g,v,w],[g,v,w])},useQuery(y,g){const f=S(y,g),v=_(y,{selectFromResult:y===ye||g!=null&&g.skip?void 0:Za,...g}),{data:w,status:E,isLoading:I,isSuccess:O,isError:R,error:C}=v;return N.useDebugValue({data:w,status:E,isLoading:I,isSuccess:O,isError:R,error:C}),N.useMemo(()=>({...v,...f}),[v,f])}}}function h(m){return({selectFromResult:S,fixedCacheKey:b}={})=>{const{select:_,initiate:y}=t.endpoints[m],g=n(),[f,v]=N.useState();N.useEffect(()=>()=>{f!=null&&f.arg.fixedCacheKey||f==null||f.reset()},[f]);const w=N.useCallback(function(U){const j=g(y(U,{fixedCacheKey:b}));return v(j),j},[g,y,b]),{requestId:E}=f||{},I=N.useMemo(()=>_({fixedCacheKey:b,requestId:f==null?void 0:f.requestId}),[b,f,_]),O=N.useMemo(()=>S?o([I],S):I,[S,I]),R=r(O,He),C=b==null?f==null?void 0:f.arg.originalArgs:void 0,T=N.useCallback(()=>{e(()=>{f&&v(void 0),b&&g(t.internalActions.removeMutationResult({requestId:E,fixedCacheKey:b}))})},[g,b,f,E]),{endpointName:x,data:A,status:k,isLoading:M,isSuccess:B,isError:P,error:L}=R;N.useDebugValue({endpointName:x,data:A,status:k,isLoading:M,isSuccess:B,isError:P,error:L});const D=N.useMemo(()=>({...R,originalArgs:C,reset:T}),[R,C,T]);return N.useMemo(()=>[w,D],[w,D])}}}var tc=Symbol(),nc=({batch:t=$i,hooks:e={useDispatch:ji,useSelector:Fi,useStore:Bi},createSelector:n=$n,unstable__sideEffectsInRender:r=!1,...s}={})=>({name:tc,init(i,{serializeQueryArgs:o},a){const c=i,{buildQueryHooks:l,buildMutationHook:d,usePrefetch:p}=ec({api:i,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:o,context:a});return lt(c,{usePrefetch:p}),lt(a,{batch:t}),{injectEndpoint(u,h){if(Ga(h)){const{useQuery:m,useLazyQuery:S,useLazyQuerySubscription:b,useQueryState:_,useQuerySubscription:y}=l(u);lt(c.endpoints[u],{useQuery:m,useLazyQuery:S,useLazyQuerySubscription:b,useQueryState:_,useQuerySubscription:y}),i[`use${Xt(u)}Query`]=m,i[`useLazy${Xt(u)}Query`]=S}else if(Ja(h)){const m=d(u);lt(c.endpoints[u],{useMutation:m}),i[`use${Xt(u)}Mutation`]=m}}}}}),Mt=La(Wa(),nc());const ft=Mt({reducerPath:"appStoreApi",baseQuery:Nt({baseUrl:"https://search-itunes.vercel.app"}),endpoints:t=>({search:t.query({query:e=>`/?media=software&entity=macSoftware&term=${e}`,transformResponse:e=>((e==null?void 0:e.results)||[]).map(n=>({id:String(n.trackId),name:String(n.trackName),description:n.description,imageUrl:n.artworkUrl100||n.artworkUrl512||n.artworkUrl60,infoUrl:n.trackViewUrl,author:n.artistName,source:"App Store"})),extraOptions:{maxRetries:oe}})})}),qe=Mt({reducerPath:"brewMyMacApi",baseQuery:Nt({baseUrl:Ui}),endpoints:t=>({addRecipe:t.mutation({query:e=>({url:"/recipes",method:"POST",body:e,responseHandler:n=>n.text()}),extraOptions:{maxRetries:oe}}),addSpellbook:t.mutation({query:e=>({url:"/spellbooks",method:"POST",body:e,responseHandler:n=>n.text()}),extraOptions:{maxRetries:oe}}),getSpells:t.query({query:()=>"/spells",extraOptions:{maxRetries:oe}})})}),{useAddRecipeMutation:pd,useAddSpellbookMutation:hd,useGetSpellsQuery:gd}=qe;var De={STORYBOOK_DISABLE_TELEMETRY:"1",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const rc=t=>({id:t.fields.id,name:t.fields.name,description:t.fields.description,category:t.fields.category,imageUrl:t.fields.imageUrl,infoUrl:t.fields.infoUrl,author:t.fields.author,source:t.fields.source}),sc=t=>({id:t.fields.id,name:t.fields.name,description:t.fields.description,category:t.fields.category,imageUrl:t.fields.imageUrl,infoUrl:t.fields.infoUrl,author:t.fields.author,impact:t.fields.impact,privileged:t.fields.privileged,sipInvolved:t.fields.sipInvolved,parameters:t.fields.parameters,types:t.fields.types,values:t.fields.values.map((e,n)=>{const r=t.fields.types[n];return r==="boolean"?e==="true":r==="number"?Number(e):e})}),ic=t=>[t.fields.name,t.fields.content],tn=Mt({reducerPath:"contentfulApi",baseQuery:Nt({baseUrl:"https://cdn.contentful.com"}),endpoints:t=>({ingredients:t.query({query:()=>`/spaces/${De.VITE_APP_CONTENTFUL_SPACE_ID}/environments/master/entries?content_type=ingredient&access_token=${De.VITE_APP_CONTENTFUL_API_KEY}`,transformResponse:e=>e.items.map(rc).reverse(),extraOptions:{maxRetries:oe}}),tweaks:t.query({query:()=>`/spaces/${De.VITE_APP_CONTENTFUL_SPACE_ID}/environments/master/entries?content_type=tweak&access_token=${De.VITE_APP_CONTENTFUL_API_KEY}`,transformResponse:e=>e.items.map(sc).reverse(),extraOptions:{maxRetries:oe}}),page:t.query({query:e=>`/spaces/${De.VITE_APP_CONTENTFUL_SPACE_ID}/environments/master/entries/${e}?access_token=${De.VITE_APP_CONTENTFUL_API_KEY}`,transformResponse:e=>ic(e),extraOptions:{maxRetries:oe}})})}),$r=t=>({id:t.token?t.token:Array.isArray(t.name)?t.name[0]:t.name||"",name:t.full_name?t.full_name:Array.isArray(t.name)?t.name[0]:t.name||t.token||"",description:t.desc,infoUrl:t.homepage}),dt=Mt({reducerPath:"homebrewApi",baseQuery:Nt({baseUrl:"https://formulae.brew.sh"}),endpoints:t=>({formula:t.query({query:()=>"/api/formula.json",transformResponse:e=>(e||[]).map(n=>({...$r(n),author:"Homebrew",source:"Homebrew"})),extraOptions:{maxRetries:oe}}),cask:t.query({query:()=>"/api/cask.json",transformResponse:e=>(e||[]).map(n=>({...$r(n),author:"Homebrew (Cask)",source:"Homebrew (Cask)"})),extraOptions:{maxRetries:oe}})})}),jr={ingredients:[]},Fs=ie({initialState:jr,name:"recipe",reducers:{addIngredient:(t,e)=>({...t,ingredients:[...t.ingredients,e.payload].sort((n,r)=>n.name.localeCompare(r.name))}),removeIngredient:(t,e)=>({...t,ingredients:t.ingredients.filter(n=>n.id!==e.payload.id||n.source!==e.payload.source)}),setIngredients:(t,e)=>({...t,ingredients:e.payload}),resetIngredients:()=>jr}}),{addIngredient:md,removeIngredient:yd,resetIngredients:bd,setIngredients:Sd}=Fs.actions,oc=Fs.reducer,ac={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};let cc=class _n{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||ac,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new _n(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new _n(this.logger,e)}};var ee=new cc;class Lt{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let l=0;l<c;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let l=0;l<c;l++)a.apply(a,[e,...r])})}}function Ue(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function Fr(t){return t==null?"":""+t}function uc(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}const lc=/###/g;function Qe(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(lc,"."):a}function s(){return!t||typeof t=="string"}const i=typeof e!="string"?e:e.split(".");let o=0;for(;o<i.length-1;){if(s())return{};const a=r(i[o]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return s()?{}:{obj:t,k:r(i[o])}}function Br(t,e,n){const{obj:r,k:s}=Qe(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=Qe(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=Qe(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n}function fc(t,e,n,r){const{obj:s,k:i}=Qe(t,e,Object);s[i]=s[i]||[],r&&(s[i]=s[i].concat(n)),r||s[i].push(n)}function wt(t,e){const{obj:n,k:r}=Qe(t,e);if(n)return n[r]}function dc(t,e,n){const r=wt(t,n);return r!==void 0?r:wt(e,n)}function Bs(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Bs(t[r],e[r],n):t[r]=e[r]);return t}function ke(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var pc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function hc(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>pc[e]):t}class gc{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const mc=[" ",",","?","!",";"],yc=new gc(20);function bc(t,e,n){e=e||"",n=n||"";const r=mc.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=yc.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i}function wn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let c=i;c<r.length;++c)if(c!==i&&(a+=n),a+=r[c],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}s=o}return s}function Et(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class Ur extends Lt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&i?a.push(...r.split(i)):a.push(r)));const c=wt(this.data,a);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),c||!o||typeof r!="string"?c:wn(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),Br(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let c=wt(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Bs(c,r,i):c={...c,...r},Br(this.data,a,c),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Us={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const zr={};class It extends Lt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),uc(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ee.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!bc(e,r,s);if(o&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:i};const l=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(s)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),c=a[a.length-1],l=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(d){const f=n.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${f}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${f}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const p=this.resolve(e,n);let u=p&&p.res;const h=p&&p.usedKey||o,m=p&&p.exactUsedKey||o,S=Object.prototype.toString.apply(u),b=["[object Number]","[object Function]","[object RegExp]"],_=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&u&&(typeof u!="string"&&typeof u!="boolean"&&typeof u!="number")&&b.indexOf(S)<0&&!(typeof _=="string"&&S==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const f=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(p.res=f,p.usedParams=this.getUsedParamsDetails(n),p):f}if(i){const f=S==="[object Array]",v=f?[]:{},w=f?m:h;for(const E in u)if(Object.prototype.hasOwnProperty.call(u,E)){const I=`${w}${i}${E}`;v[E]=this.translate(I,{...n,joinArrays:!1,ns:a}),v[E]===I&&(v[E]=u[E])}u=v}}else if(y&&typeof _=="string"&&S==="[object Array]")u=u.join(_),u&&(u=this.extendTranslation(u,e,n,r));else{let f=!1,v=!1;const w=n.count!==void 0&&typeof n.count!="string",E=It.hasDefaultValue(n),I=w?this.pluralResolver.getSuffix(l,n.count,n):"",O=n.ordinal&&w?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",R=w&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),C=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${I}`]||n[`defaultValue${O}`]||n.defaultValue;!this.isValidLookup(u)&&E&&(f=!0,u=C),this.isValidLookup(u)||(v=!0,u=o);const x=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&v?void 0:u,A=E&&C!==u&&this.options.updateMissing;if(v||f||A){if(this.logger.log(A?"updateKey":"missingKey",l,c,o,A?C:u),i){const P=this.resolve(o,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let k=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let P=0;P<M.length;P++)k.push(M[P]);else this.options.saveMissingTo==="all"?k=this.languageUtils.toResolveHierarchy(n.lng||this.language):k.push(n.lng||this.language);const B=(P,L,D)=>{const U=E&&D!==u?D:x;this.options.missingKeyHandler?this.options.missingKeyHandler(P,c,L,U,A,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,c,L,U,A,n),this.emit("missingKey",P,c,L,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?k.forEach(P=>{const L=this.pluralResolver.getSuffixes(P,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(D=>{B([P],o+D,n[`defaultValue${D}`]||C)})}):B(k,o,C))}u=this.extendTranslation(u,e,n,p,r),v&&u===o&&this.options.appendNamespaceToMissingKey&&(u=`${c}:${o}`),(v||f)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,f?u:void 0):u=this.options.parseMissingKeyHandler(u))}return s?(p.res=u,p.usedParams=this.getUsedParamsDetails(n),p):u}extendTranslation(e,n,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(l){const u=e.match(this.interpolator.nestingRegexp);d=u&&u.length}let p=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language,r),l){const u=e.match(this.interpolator.nestingRegexp),h=u&&u.length;d<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var u=arguments.length,h=new Array(u),m=0;m<u;m++)h[m]=arguments[m];return i&&i[0]===h[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):o.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,c=typeof a=="string"?[a]:a;return e!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(e=Us.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,a;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(c,n),d=l.key;s=d;let p=l.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const u=n.count!==void 0&&typeof n.count!="string",h=u&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(b=>{this.isValidLookup(r)||(a=b,!zr[`${S[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(zr[`${S[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(_=>{if(this.isValidLookup(r))return;o=_;const y=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,d,_,b,n);else{let f;u&&(f=this.pluralResolver.getSuffix(_,n.count,n));const v=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(y.push(d+f),n.ordinal&&f.indexOf(w)===0&&y.push(d+f.replace(w,this.options.pluralSeparator)),h&&y.push(d+v)),m){const E=`${d}${this.options.contextSeparator}${n.context}`;y.push(E),u&&(y.push(E+f),n.ordinal&&f.indexOf(w)===0&&y.push(E+f.replace(w,this.options.pluralSeparator)),h&&y.push(E+v))}}let g;for(;g=y.pop();)this.isValidLookup(r)||(i=g,r=this.getResource(_,b,g,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function nn(t){return t.charAt(0).toUpperCase()+t.slice(1)}class qr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ee.create("languageUtils")}getScriptPartFromCode(e){if(e=Et(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Et(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=nn(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=nn(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=nn(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&i.indexOf(s)===0)return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let Sc=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],vc={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const _c=["v1","v2","v3"],wc=["v4"],Hr={zero:0,one:1,two:2,few:3,many:4,other:5};function Ec(){const t={};return Sc.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:vc[e.fc]}})}),t}class Ic{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=ee.create("pluralResolver"),(!this.options.compatibilityJSON||wc.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ec()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Et(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>Hr[s]-Hr[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!_c.includes(this.options.compatibilityJSON)}}function Vr(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=dc(t,e,n);return!i&&s&&typeof n=="string"&&(i=wn(t,n,r),i===void 0&&(i=wn(e,n,r))),i}class Oc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ee.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:hc,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ke(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ke(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ke(n.nestingPrefix):n.nestingPrefixEscaped||ke("$t("),this.nestingSuffix=n.nestingSuffix?ke(n.nestingSuffix):n.nestingSuffixEscaped||ke(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,o,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(m){return m.replace(/\$/g,"$$$$")}const d=m=>{if(m.indexOf(this.formatSeparator)<0){const y=Vr(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...s,...n,interpolationkey:m}):y}const S=m.split(this.formatSeparator),b=S.shift().trim(),_=S.join(this.formatSeparator).trim();return this.format(Vr(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...s,...n,interpolationkey:b})};this.resetRegExp();const p=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,u=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>l(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?l(this.escape(m)):l(m)}].forEach(m=>{for(a=0;i=m.regex.exec(e);){const S=i[1].trim();if(o=d(S),o===void 0)if(typeof p=="function"){const _=p(e,i,s);o=typeof _=="string"?_:""}else if(s&&Object.prototype.hasOwnProperty.call(s,S))o="";else if(u){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=Fr(o));const b=m.safeValue(o);if(e=e.replace(i[0],b),u?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;function a(c,l){const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const p=c.split(new RegExp(`${d}[ ]*{`));let u=`{${p[1]}`;c=p[0],u=this.interpolate(u,o);const h=u.match(/'/g),m=u.match(/"/g);(h&&h.length%2===0&&!m||m.length%2!==0)&&(u=u.replace(/'/g,'"'));try{o=JSON.parse(u),l&&(o={...l,...o})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,S),`${c}${d}${u}`}return delete o.defaultValue,c}for(;s=this.nestingRegexp.exec(e);){let c=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(p=>p.trim());s[1]=d.shift(),c=d,l=!0}if(i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=Fr(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l&&(i=c.reduce((d,p)=>this.format(d,p,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}function Rc(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(!o)return;const[a,...c]=o.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=l),l==="false"&&(n[a.trim()]=!1),l==="true"&&(n[a.trim()]=!0),isNaN(l)||(n[a.trim()]=parseInt(l,10))})}return{formatName:e,formatOptions:n}}function Ne(t){const e={};return function(r,s,i){const o=s+JSON.stringify(i);let a=e[o];return a||(a=t(Et(s),i),e[o]=a),a(r)}}class Cc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ee.create("formatter"),this.options=e,this.formats={number:Ne((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:Ne((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:Ne((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:Ne((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:Ne((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ne(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,c)=>{const{formatName:l,formatOptions:d}=Rc(c);if(this.formats[l]){let p=a;try{const u=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},h=u.locale||u.lng||s.locale||s.lng||r;p=this.formats[l](a,h,{...d,...s,...u})}catch(u){this.logger.warn(u)}return p}else this.logger.warn(`there was no format function for ${l}`);return a},e)}}function Tc(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class Ac extends Lt{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=ee.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},c={};return e.forEach(l=>{let d=!0;n.forEach(p=>{const u=`${l}|${p}`;!r.reload&&this.store.hasResourceBundle(l,p)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?o[u]===void 0&&(o[u]=!0):(this.state[u]=1,d=!1,o[u]===void 0&&(o[u]=!0),i[u]===void 0&&(i[u]=!0),c[p]===void 0&&(c[p]=!0)))}),d||(a[l]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const a={};this.queue.forEach(c=>{fc(c.loaded,[i],o),Tc(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{a[l]||(a[l]={});const d=c.loaded[l];d.length&&d.forEach(p=>{a[l][p]===void 0&&(a[l][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(l,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(l&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(l,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const l=c(e,n);l&&typeof l.then=="function"?l.then(d=>a(null,d)).catch(a):a(null,l)}catch(l){a(l)}return}return c(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let d;l.length===5?d=l(e,n,r,s,c):d=l(e,n,r,s),d&&typeof d.then=="function"?d.then(p=>a(null,p)).catch(a):a(null,d)}catch(d){a(d)}else l(e,n,r,s,a,c)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}function Kr(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{n[s]=r[s]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Qr(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function pt(){}function xc(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class tt extends Lt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Qr(e),this.services={},this.logger=ee,this.modules={external:[]},xc(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=Kr();this.options={...s,...this.options,...Qr(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?ee.init(i(this.modules.logger),this.options):ee.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Cc);const p=new qr(this.options);this.store=new Ur(this.options.resources,this.options);const u=this.services;u.logger=ee,u.resourceStore=this.store,u.languageUtils=p,u.pluralResolver=new Ic(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(u.formatter=i(d),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Oc(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new Ac(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(h){for(var m=arguments.length,S=new Array(m>1?m-1:0),b=1;b<m;b++)S[b-1]=arguments[b];e.emit(h,...S)}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new It(this.services,this.options),this.translator.on("*",function(h){for(var m=arguments.length,S=new Array(m>1?m-1:0),b=1;b<m;b++)S[b-1]=arguments[b];e.emit(h,...S)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=pt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=Ue(),l=()=>{const d=(p,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(u),r(p,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(l=>{l!=="cimode"&&i.indexOf(l)<0&&i.push(l)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const s=Ue();return e||(e=this.languages),n||(n=this.options.ns),r||(r=pt),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Us.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=Ue();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,l)=>{l?(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const l=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,d=>{o(d,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,n,r){var s=this;const i=function(o,a){let c;if(typeof a!="object"){for(var l=arguments.length,d=new Array(l>2?l-2:0),p=2;p<l;p++)d[p-2]=arguments[p];c=s.options.overloadTranslationOptionHandler([o,a].concat(d))}else c={...a};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix=c.keyPrefix||r||i.keyPrefix;const u=s.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(o)?h=o.map(m=>`${c.keyPrefix}${u}${m}`):h=c.keyPrefix?`${c.keyPrefix}${u}${o}`:o,s.t(h,c)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,c)=>{const l=this.services.backendConnector.state[`${a}|${c}`];return l===-1||l===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=Ue();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ue();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0);return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new qr(Kr());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new tt(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new tt(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Ur(this.store.data,s),i.services.resourceStore=i.store),i.translator=new It(i.services,s),i.translator.on("*",function(a){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const H=tt.createInstance();H.createInstance=tt.createInstance;H.createInstance;H.dir;H.init;H.loadResources;H.reloadResources;H.use;H.changeLanguage;H.getFixedT;H.t;H.exists;H.setDefaultNamespace;H.hasLoadedNamespace;H.loadNamespaces;H.loadLanguages;const Pc=Object.prototype.toString;function Dc(t,e){return Pc.call(t)===`[object ${e}]`}function zs(t){return Dc(t,"Object")}function Yn(t){return!!(t&&t.then&&typeof t.then=="function")}function ht(t){return t&&t.Math==Math?t:void 0}const Y=typeof globalThis=="object"&&ht(globalThis)||typeof window=="object"&&ht(window)||typeof self=="object"&&ht(self)||typeof global=="object"&&ht(global)||function(){return this}()||{};function qs(t,e,n){const r=n||Y,s=r.__SENTRY__=r.__SENTRY__||{};return s[t]||(s[t]=e())}const kc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nc="Sentry Logger ",Wr=["debug","info","warn","error","log","assert","trace"],Gr={};function Hs(t){if(!("console"in Y))return t();const e=Y.console,n={},r=Object.keys(Gr);r.forEach(s=>{const i=Gr[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function Mc(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return kc?Wr.forEach(n=>{e[n]=(...r)=>{t&&Hs(()=>{Y.console[n](`${Nc}[${n}]:`,...r)})}}):Wr.forEach(n=>{e[n]=()=>{}}),e}const ue=Mc();function be(t){return En(t,new Map)}function En(t,e){if(Lc(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.keys(t))typeof t[s]<"u"&&(r[s]=En(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(En(s,e))}),r}return t}function Lc(t){if(!zs(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}function te(){const t=Y,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function $c(t){return Array.isArray(t)?t:[t]}var se;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(se||(se={}));class ce{constructor(e){ce.prototype.__init.call(this),ce.prototype.__init2.call(this),ce.prototype.__init3.call(this),ce.prototype.__init4.call(this),this._state=se.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ce((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ce((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(se.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(se.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===se.PENDING){if(Yn(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===se.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===se.RESOLVED&&n[1](this._value),this._state===se.REJECTED&&n[2](this._value),n[0]=!0)})}}}const Vs=1e3;function Xn(){return Date.now()/Vs}function jc(){const{performance:t}=Y;if(!t||!t.now)return Xn;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/Vs}const Ks=jc();(()=>{const{performance:t}=Y;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):e,l=c<e;return i||l?s<=c?t.timeOrigin:o:r})();const yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Qs="production";function Fc(){return qs("globalEventProcessors",()=>[])}function In(t,e,n,r=0){return new ce((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);yt&&o.id&&a===null&&ue.log(`Event processor "${o.id}" dropped event`),Yn(a)?a.then(c=>In(t,c,n,r+1).then(s)).then(null,i):In(t,a,n,r+1).then(s).then(null,i)}})}function Bc(t){const e=Ks(),n={sid:te(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>zc(n)};return t&&$t(n,t),n}function $t(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Ks(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:te()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Uc(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),$t(t,n)}function zc(t){return be({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const qc=1;function Hc(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=Ot(t);return be({data:r,op:s,parent_span_id:i,span_id:e,status:o,tags:a,trace_id:n,origin:c})}function Ot(t){return Vc(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function Vc(t){return typeof t.getSpanJSON=="function"}function Kc(t){const{traceFlags:e}=t.spanContext();return!!(e&qc)}function Qc(t){if(t)return Wc(t)?{captureContext:t}:Jc(t)?{captureContext:t}:t}function Wc(t){return t instanceof ve||typeof t=="function"}const Gc=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Jc(t){return Object.keys(t).some(e=>Gc.includes(e))}function Yc(t,e){return Zn().captureException(t,Qc(e))}function Xc(){return Zn().getClient()}function Zc(){return Zn().getScope()}function Ws(t){return t.transaction}function eu(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=be({environment:r.environment||Qs,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function tu(t){const e=Xc();if(!e)return{};const n=eu(Ot(t).trace_id||"",e,Zc()),r=Ws(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=Ot(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(Kc(r)),e.emit&&e.emit("createDsc",n),n}function nu(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;ru(t,e),r&&ou(t,r),au(t,n),su(t,s),iu(t,i)}function ru(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=be(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const l=be(r);l&&Object.keys(l).length&&(t.tags={...l,...t.tags});const d=be(s);d&&Object.keys(d).length&&(t.user={...d,...t.user});const p=be(i);p&&Object.keys(p).length&&(t.contexts={...p,...t.contexts}),o&&(t.level=o),a&&(t.transaction=a)}function su(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function iu(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function ou(t,e){t.contexts={trace:Hc(e),...t.contexts};const n=Ws(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:tu(e),...t.sdkProcessingMetadata};const r=Ot(n).description;r&&(t.tags={transaction:r,...t.tags})}}function au(t,e){t.fingerprint=t.fingerprint?$c(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const cu=100;class ve{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Jr()}static clone(e){return e?e.clone():new ve}clone(){const e=new ve;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&$t(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof ve){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(zs(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Jr(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:cu;if(r<=0)return this;const s={timestamp:Xn(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:l,_propagationContext:d,_sdkProcessingMetadata:p,_transactionName:u,_span:h}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:l,propagationContext:d,sdkProcessingMetadata:p,transactionName:u,span:h}}applyToEvent(e,n={},r=[]){nu(e,this.getScopeData());const s=[...r,...Fc(),...this._eventProcessors];return In(s,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:te();if(!this._client)return ue.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:te();if(!this._client)return ue.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:te();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(ue.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function Jr(){return{traceId:te(),spanId:te().substring(16)}}const uu="7.105.0",Gs=parseFloat(uu),lu=100;class Js{constructor(e,n,r,s=Gs){this._version=s;let i;n?i=n:(i=new ve,i.setClient(e));let o;r?o=r:(o=new ve,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(s){throw this.popScope(),s}return Yn(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:te(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:te(),i=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:te();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=lu}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:Xn(),...e},l=i?Hs(()=>i(c,n)):c;l!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",l,n),r.addBreadcrumb(l,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=Yr(this);try{e(this)}finally{Yr(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return yt&&ue.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return yt&&!r&&(this.getClient()?ue.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):ue.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Uc(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Qs}=r&&r.getOptions()||{},{userAgent:o}=Y.navigator||{},a=Bc({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&$t(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const s=jt().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);yt&&ue.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function jt(){return Y.__SENTRY__=Y.__SENTRY__||{extensions:{},hub:void 0},Y}function Yr(t){const e=jt(),n=On(e);return Ys(e,t),n}function Zn(){const t=jt();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return fu(t)}function fu(t=jt()){return(!du(t)||On(t).isOlderThan(Gs))&&Ys(t,new Js),On(t)}function du(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function On(t){return qs("hub",()=>new Js,t)}function Ys(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}var Xr={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pu=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Zs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let u=(a&15)<<2|l>>6,h=l&63;c||(h=64,o||(u=64)),r.push(n[d],n[p],n[u],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xs(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pu(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||p==null)throw new hu;const u=i<<2|a>>4;if(r.push(u),l!==64){const h=a<<4&240|l>>2;if(r.push(h),p!==64){const m=l<<6&192|p;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gu=function(t){const e=Xs(t);return Zs.encodeByteArray(e,!0)},ei=function(t){return gu(t).replace(/\./g,"")},mu=function(t){try{return Zs.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=()=>yu().__FIREBASE_DEFAULTS__,Su=()=>{if(typeof process>"u"||typeof Xr>"u")return;const t=Xr.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vu=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mu(t[1]);return e&&JSON.parse(e)},_u=()=>{try{return bu()||Su()||vu()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ti=()=>{var t;return(t=_u())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Eu(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ni(){try{return typeof indexedDB=="object"}catch{return!1}}function ri(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Iu(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="FirebaseError";class Ae extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ou,Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Ru(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ae(s,a,r)}}function Ru(t,e){return t.replace(Cu,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Cu=/\{\$([^}]+)}/g;function Rt(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Zr(i)&&Zr(o)){if(!Rt(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zr(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=1e3,Au=2,xu=4*60*60*1e3,Pu=.5;function es(t,e=Tu,n=Au){const r=e*Math.pow(n,t),s=Math.round(Pu*r*(Math.random()-.5)*2);return Math.min(xu,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class he{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nu(e))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=me){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=me){return this.instances.has(e)}getOptions(e=me){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ku(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=me){return this.component?this.component.multipleInstances?e:me:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ku(t){return t===me?void 0:t}function Nu(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Du(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($||($={}));const Lu={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},$u=$.INFO,ju={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Fu=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ju[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ii{constructor(e){this.name=e,this._logLevel=$u,this._logHandler=Fu,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...e),this._logHandler(this,$.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...e),this._logHandler(this,$.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$.INFO,...e),this._logHandler(this,$.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$.WARN,...e),this._logHandler(this,$.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...e),this._logHandler(this,$.ERROR,...e)}}const Bu=(t,e)=>e.some(n=>t instanceof n);let ts,ns;function Uu(){return ts||(ts=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zu(){return ns||(ns=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oi=new WeakMap,Rn=new WeakMap,ai=new WeakMap,rn=new WeakMap,er=new WeakMap;function qu(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(le(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oi.set(n,t)}).catch(()=>{}),er.set(e,t),e}function Hu(t){if(Rn.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rn.set(t,e)}let Cn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rn.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ai.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return le(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vu(t){Cn=t(Cn)}function Ku(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sn(this),e,...n);return ai.set(r,e.sort?e.sort():[e]),le(r)}:zu().includes(t)?function(...e){return t.apply(sn(this),e),le(oi.get(this))}:function(...e){return le(t.apply(sn(this),e))}}function Qu(t){return typeof t=="function"?Ku(t):(t instanceof IDBTransaction&&Hu(t),Bu(t,Uu())?new Proxy(t,Cn):t)}function le(t){if(t instanceof IDBRequest)return qu(t);if(rn.has(t))return rn.get(t);const e=Qu(t);return e!==t&&(rn.set(t,e),er.set(e,t)),e}const sn=t=>er.get(t);function ci(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=le(o);return r&&o.addEventListener("upgradeneeded",c=>{r(le(o.result),c.oldVersion,c.newVersion,le(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Wu=["get","getKey","getAll","getAllKeys","count"],Gu=["put","add","delete","clear"],on=new Map;function rs(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(on.get(e))return on.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Gu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Wu.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return on.set(e,i),i}Vu(t=>({...t,get:(e,n,r)=>rs(e,n)||t.get(e,n,r),has:(e,n)=>!!rs(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yu(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Yu(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tn="@firebase/app",ss="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe=new ii("@firebase/app"),Xu="@firebase/app-compat",Zu="@firebase/analytics-compat",el="@firebase/analytics",tl="@firebase/app-check-compat",nl="@firebase/app-check",rl="@firebase/auth",sl="@firebase/auth-compat",il="@firebase/database",ol="@firebase/database-compat",al="@firebase/functions",cl="@firebase/functions-compat",ul="@firebase/installations",ll="@firebase/installations-compat",fl="@firebase/messaging",dl="@firebase/messaging-compat",pl="@firebase/performance",hl="@firebase/performance-compat",gl="@firebase/remote-config",ml="@firebase/remote-config-compat",yl="@firebase/storage",bl="@firebase/storage-compat",Sl="@firebase/firestore",vl="@firebase/firestore-compat",_l="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="[DEFAULT]",wl={[Tn]:"fire-core",[Xu]:"fire-core-compat",[el]:"fire-analytics",[Zu]:"fire-analytics-compat",[nl]:"fire-app-check",[tl]:"fire-app-check-compat",[rl]:"fire-auth",[sl]:"fire-auth-compat",[il]:"fire-rtdb",[ol]:"fire-rtdb-compat",[al]:"fire-fn",[cl]:"fire-fn-compat",[ul]:"fire-iid",[ll]:"fire-iid-compat",[fl]:"fire-fcm",[dl]:"fire-fcm-compat",[pl]:"fire-perf",[hl]:"fire-perf-compat",[gl]:"fire-rc",[ml]:"fire-rc-compat",[yl]:"fire-gcs",[bl]:"fire-gcs-compat",[Sl]:"fire-fst",[vl]:"fire-fst-compat","fire-js":"fire-js",[_l]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct=new Map,xn=new Map;function El(t,e){try{t.container.addComponent(e)}catch(n){Oe.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Re(t){const e=t.name;if(xn.has(e))return Oe.debug(`There were multiple attempts to register component ${e}.`),!1;xn.set(e,t);for(const n of Ct.values())El(n,t);return!0}function Bt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fe=new Ft("app","Firebase",Il);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new he("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fe.create("app-deleted",{appName:this._name})}}function Rl(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:An,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw fe.create("bad-app-name",{appName:String(s)});if(n||(n=ti()),!n)throw fe.create("no-options");const i=Ct.get(s);if(i){if(Rt(n,i.options)&&Rt(r,i.config))return i;throw fe.create("duplicate-app",{appName:s})}const o=new Mu(s);for(const c of xn.values())o.addComponent(c);const a=new Ol(n,r,o);return Ct.set(s,a),a}function Cl(t=An){const e=Ct.get(t);if(!e&&t===An&&ti())return Rl();if(!e)throw fe.create("no-app",{appName:t});return e}function _e(t,e,n){var r;let s=(r=wl[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oe.warn(a.join(" "));return}Re(new he(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="firebase-heartbeat-database",Al=1,nt="firebase-heartbeat-store";let an=null;function ui(){return an||(an=ci(Tl,Al,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nt)}catch(n){console.warn(n)}}}}).catch(t=>{throw fe.create("idb-open",{originalErrorMessage:t.message})})),an}async function xl(t){try{const n=(await ui()).transaction(nt),r=await n.objectStore(nt).get(li(t));return await n.done,r}catch(e){if(e instanceof Ae)Oe.warn(e.message);else{const n=fe.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oe.warn(n.message)}}}async function is(t,e){try{const r=(await ui()).transaction(nt,"readwrite");await r.objectStore(nt).put(e,li(t)),await r.done}catch(n){if(n instanceof Ae)Oe.warn(n.message);else{const r=fe.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oe.warn(r.message)}}}function li(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=1024,Dl=30*24*60*60*1e3;class kl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ml(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=os();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Dl}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=os(),{heartbeatsToSend:r,unsentEntries:s}=Nl(this._heartbeatsCache.heartbeats),i=ei(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function os(){return new Date().toISOString().substring(0,10)}function Nl(t,e=Pl){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),as(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),as(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ml{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ni()?ri().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xl(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return is(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return is(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function as(t){return ei(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){Re(new he("platform-logger",e=>new Ju(e),"PRIVATE")),Re(new he("heartbeat",e=>new kl(e),"PRIVATE")),_e(Tn,ss,t),_e(Tn,ss,"esm2017"),_e("fire-js","")}Ll("");const fi="@firebase/installations",tr="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=1e4,pi=`w:${tr}`,hi="FIS_v2",$l="https://firebaseinstallations.googleapis.com/v1",jl=60*60*1e3,Fl="installations",Bl="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ce=new Ft(Fl,Bl,Ul);function gi(t){return t instanceof Ae&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi({projectId:t}){return`${$l}/projects/${t}/installations`}function yi(t){return{token:t.token,requestStatus:2,expiresIn:ql(t.expiresIn),creationTime:Date.now()}}async function bi(t,e){const r=(await e.json()).error;return Ce.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Si({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zl(t,{refreshToken:e}){const n=Si(t);return n.append("Authorization",Hl(e)),n}async function vi(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ql(t){return Number(t.replace("s","000"))}function Hl(t){return`${hi} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mi(t),s=Si(t),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={fid:n,authVersion:hi,appId:t.appId,sdkVersion:pi},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await vi(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:yi(l.authToken)}}else throw await bi("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=/^[cdef][\w-]{21}$/,Pn="";function Wl(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Gl(t);return Ql.test(n)?n:Pn}catch{return Pn}}function Gl(t){return Kl(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Map;function Ei(t,e){const n=Ut(t);Ii(n,e),Jl(n,e)}function Ii(t,e){const n=wi.get(t);if(n)for(const r of n)r(e)}function Jl(t,e){const n=Yl();n&&n.postMessage({key:t,fid:e}),Xl()}let Se=null;function Yl(){return!Se&&"BroadcastChannel"in self&&(Se=new BroadcastChannel("[Firebase] FID Change"),Se.onmessage=t=>{Ii(t.data.key,t.data.fid)}),Se}function Xl(){wi.size===0&&Se&&(Se.close(),Se=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="firebase-installations-database",ef=1,Te="firebase-installations-store";let cn=null;function nr(){return cn||(cn=ci(Zl,ef,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Te)}}})),cn}async function Tt(t,e){const n=Ut(t),s=(await nr()).transaction(Te,"readwrite"),i=s.objectStore(Te),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&Ei(t,e.fid),e}async function Oi(t){const e=Ut(t),r=(await nr()).transaction(Te,"readwrite");await r.objectStore(Te).delete(e),await r.done}async function zt(t,e){const n=Ut(t),s=(await nr()).transaction(Te,"readwrite"),i=s.objectStore(Te),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Ei(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rr(t){let e;const n=await zt(t.appConfig,r=>{const s=tf(r),i=nf(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Pn?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tf(t){const e=t||{fid:Wl(),registrationStatus:0};return Ri(e)}function nf(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ce.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rf(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sf(t)}:{installationEntry:e}}async function rf(t,e){try{const n=await Vl(t,e);return Tt(t.appConfig,n)}catch(n){throw gi(n)&&n.customData.serverCode===409?await Oi(t.appConfig):await Tt(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sf(t){let e=await cs(t.appConfig);for(;e.registrationStatus===1;)await _i(100),e=await cs(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await rr(t);return r||n}return e}function cs(t){return zt(t,e=>{if(!e)throw Ce.create("installation-not-found");return Ri(e)})}function Ri(t){return of(t)?{fid:t.fid,registrationStatus:0}:t}function of(t){return t.registrationStatus===1&&t.registrationTime+di<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af({appConfig:t,heartbeatServiceProvider:e},n){const r=cf(t,n),s=zl(t,n),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={installation:{sdkVersion:pi,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await vi(()=>fetch(r,a));if(c.ok){const l=await c.json();return yi(l)}else throw await bi("Generate Auth Token",c)}function cf(t,{fid:e}){return`${mi(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sr(t,e=!1){let n;const r=await zt(t.appConfig,i=>{if(!Ci(i))throw Ce.create("not-registered");const o=i.authToken;if(!e&&ff(o))return i;if(o.requestStatus===1)return n=uf(t,e),i;{if(!navigator.onLine)throw Ce.create("app-offline");const a=pf(i);return n=lf(t,a),a}});return n?await n:r.authToken}async function uf(t,e){let n=await us(t.appConfig);for(;n.authToken.requestStatus===1;)await _i(100),n=await us(t.appConfig);const r=n.authToken;return r.requestStatus===0?sr(t,e):r}function us(t){return zt(t,e=>{if(!Ci(e))throw Ce.create("not-registered");const n=e.authToken;return hf(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lf(t,e){try{const n=await af(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Tt(t.appConfig,r),n}catch(n){if(gi(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Oi(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tt(t.appConfig,r)}throw n}}function Ci(t){return t!==void 0&&t.registrationStatus===2}function ff(t){return t.requestStatus===2&&!df(t)}function df(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jl}function pf(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hf(t){return t.requestStatus===1&&t.requestTime+di<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){const e=t,{installationEntry:n,registrationPromise:r}=await rr(e);return r?r.catch(console.error):sr(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t,e=!1){const n=t;return await yf(n),(await sr(n,e)).token}async function yf(t){const{registrationPromise:e}=await rr(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){if(!t||!t.options)throw un("App Configuration");if(!t.name)throw un("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw un(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function un(t){return Ce.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="installations",Sf="installations-internal",vf=t=>{const e=t.getProvider("app").getImmediate(),n=bf(e),r=Bt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_f=t=>{const e=t.getProvider("app").getImmediate(),n=Bt(e,Ti).getImmediate();return{getId:()=>gf(n),getToken:s=>mf(n,s)}};function wf(){Re(new he(Ti,vf,"PUBLIC")),Re(new he(Sf,_f,"PRIVATE"))}wf();_e(fi,tr);_e(fi,tr,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="analytics",Ef="firebase_id",If="origin",Of=60*1e3,Rf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ir="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=new ii("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},G=new Ft("analytics","Analytics",Cf);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){if(!t.startsWith(ir)){const e=G.create("invalid-gtag-resource",{gtagURL:t});return Q.warn(e.message),""}return t}function Ai(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Af(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xf(t,e){const n=Af("firebase-js-sdk-policy",{createScriptURL:Tf}),r=document.createElement("script"),s=`${ir}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Pf(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Df(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await Ai(n)).find(l=>l.measurementId===s);c&&await e[c.appId]}}catch(a){Q.error(a)}t("config",s,i)}async function kf(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await Ai(n);for(const c of o){const l=a.find(p=>p.measurementId===c),d=l&&e[l.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Q.error(i)}}function Nf(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await kf(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await Df(t,e,n,r,a,c)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,c,l]=o;t("get",a,c,l)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Q.error(a)}}return s}function Mf(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Nf(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Lf(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ir)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=30,jf=1e3;class Ff{constructor(e={},n=jf){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xi=new Ff;function Bf(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Uf(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Bf(r)},i=Rf.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw G.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function zf(t,e=xi,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw G.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw G.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Vf;return setTimeout(async()=>{a.abort()},n!==void 0?n:Of),Pi({appId:r,apiKey:s,measurementId:i},o,a,e)}async function Pi(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=xi){var i;const{appId:o,measurementId:a}=t;try{await qf(r,e)}catch(c){if(a)return Q.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await Uf(t);return s.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!Hf(l)){if(s.deleteThrottleMetadata(o),a)return Q.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const d=Number((i=l==null?void 0:l.customData)===null||i===void 0?void 0:i.httpStatus)===503?es(n,s.intervalMillis,$f):es(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,p),Q.debug(`Calling attemptFetch again in ${d} millis`),Pi(t,p,r,s)}}function qf(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(G.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Hf(t){if(!(t instanceof Ae)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vf{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Kf(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(){if(ni())try{await ri()}catch(t){return Q.warn(G.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Q.warn(G.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Wf(t,e,n,r,s,i,o){var a;const c=zf(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Q.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Q.error(h)),e.push(c);const l=Qf().then(h=>{if(h)return r.getId()}),[d,p]=await Promise.all([c,l]);Lf(i)||xf(i,d.measurementId),s("js",new Date);const u=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return u[If]="firebase",u.update=!0,p!=null&&(u[Ef]=p),s("config",d.measurementId,u),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.app=e}_delete(){return delete We[this.app.options.appId],Promise.resolve()}}let We={},ls=[];const fs={};let ln="dataLayer",Jf="gtag",ds,Di,ps=!1;function Yf(){const t=[];if(Eu()&&t.push("This is a browser extension environment."),Iu()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=G.create("invalid-analytics-context",{errorInfo:e});Q.warn(n.message)}}function Xf(t,e,n){Yf();const r=t.options.appId;if(!r)throw G.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Q.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw G.create("no-api-key");if(We[r]!=null)throw G.create("already-exists",{id:r});if(!ps){Pf(ln);const{wrappedGtag:i,gtagCore:o}=Mf(We,ls,fs,ln,Jf);Di=i,ds=o,ps=!0}return We[r]=Wf(t,ls,fs,e,ds,ln,n),new Gf(t)}function or(t=Cl()){t=si(t);const e=Bt(t,At);return e.isInitialized()?e.getImmediate():Zf(t)}function Zf(t,e={}){const n=Bt(t,At);if(n.isInitialized()){const s=n.getImmediate();if(Rt(e,n.getOptions()))return s;throw G.create("already-initialized")}return n.initialize({options:e})}function qt(t,e,n,r){t=si(t),Kf(Di,We[t.app.options.appId],e,n,r).catch(s=>Q.error(s))}const hs="@firebase/analytics",gs="0.10.1";function ed(){Re(new he(At,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Xf(r,s,n)},"PUBLIC")),Re(new he("analytics-internal",t,"PRIVATE")),_e(hs,gs),_e(hs,gs,"esm2017");function t(e){try{const n=e.getProvider(At).getImmediate();return{logEvent:(r,s,i)=>qt(n,r,s,i)}}catch(n){throw G.create("interop-component-reg-failed",{reason:n})}}}ed();const Ht=t=>{Yc(t)},vd=(t,{itemId:e})=>{try{qt(or(t),"remove_from_cart",{items:[{item_id:e}]})}catch(n){Ht(n)}},_d=(t,{itemIds:e})=>{try{qt(or(t),"checkout",{items:e.map(n=>({item_id:n}))})}catch(n){Ht(n)}},wd=(t,{product:e,itemId:n})=>{try{qt(or(t),"share",{content_type:e,item_id:n})}catch(r){Ht(r)}},td={locale:H.language||"en",product:"packages",themeMode:"light"},ki=ie({initialState:td,name:"preference",reducers:{setLocale:(t,e)=>{t.locale=e.payload,H.changeLanguage(e.payload).catch(Ht)},setProduct:(t,e)=>({...t,product:e.payload}),setThemeMode:(t,e)=>({...t,themeMode:e.payload})}}),{setLocale:Ed,setProduct:Id,setThemeMode:Od}=ki.actions,nd=ki.reducer,ms={tweaks:[]},Ni=ie({initialState:ms,name:"spellbook",reducers:{addTweak:(t,e)=>({...t,tweaks:[...t.tweaks,e.payload].sort((n,r)=>n.name.localeCompare(r.name))}),removeTweak:(t,e)=>({...t,tweaks:t.tweaks.filter(n=>n.id!==e.payload.id)}),resetTweaks:()=>ms,setTweaks:(t,e)=>({...t,tweaks:e.payload}),updateTweak:(t,e)=>({...t,tweaks:t.tweaks.filter(n=>n.id!==e.payload.id).concat(e.payload).sort((n,r)=>n.name.localeCompare(r.name))})}}),{addTweak:Rd,removeTweak:Cd,resetTweaks:Td,setTweaks:Ad,updateTweak:xd}=Ni.actions,rd=Ni.reducer,sd=()=>({getItem:()=>Promise.resolve(null),setItem:(t,e)=>Promise.resolve(e),removeItem:()=>Promise.resolve()}),id=typeof window<"u"?ma("local"):sd(),od=()=>Io({reducer:oa({storage:id,key:"root",blacklist:[ft.reducerPath,qe.reducerPath,dt.reducerPath]},kn({recipe:oc,preference:nd,spellbook:rd,[ft.reducerPath]:ft.reducer,[qe.reducerPath]:qe.reducer,[tn.reducerPath]:tn.reducer,[dt.reducerPath]:dt.reducer})),middleware:t=>t({serializableCheck:{ignoredActions:[zn,qn,Hn,Vn,Kn,kt]}}).concat(ft.middleware,qe.middleware,tn.middleware,dt.middleware),devTools:!1}),ad=od();da(ad);export{_d as a,hd as b,xd as c,Cd as d,Od as e,ad as f,Io as g,Ht as h,H as i,oc as j,rd as k,vd as l,ft as m,qe as n,tn as o,nd as p,dt as q,yd as r,Id as s,wd as t,pd as u};
