import{j as t}from"./useTheme-AMHikNwr.js";import{r}from"./index-C-wxagUl.js";import{F as G}from"./Instruction-BChgthlC.js";import"./iframe-C6jAGuY7.js";import{u as R}from"./index-e5L3goGc.js";import{l as A,a as B,h as k}from"./index-83WVdsuF.js";import{E as F}from"./EmptyState-f8e3YPqZ.js";import{M}from"./MaterialButton-BIDaHiM0.js";import{D as N}from"./DialogView-Xpt4wlQl.js";import{L as O,a as P}from"./ListView-DL-Svc_v.js";import{L as H}from"./Loading-Cq4OzF6A.js";import{T as J}from"./TruncatedTypography-CeaNsljM.js";import{u as U}from"./useTranslation-Dkj9UuF-.js";import{S as d}from"./Stack--VKe57hX.js";import{B as f}from"./Box-BTFd3YFl.js";import{T as m}from"./Typography-C2KmF5Dd.js";import{T as X}from"./Tooltip-CLqxHFmT.js";import{D as z}from"./Divider-B9IcfsAI.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="6373f9c2-ff3d-4a39-a62b-6ac53abf0211",e._sentryDebugIdIdentifier="sentry-dbid-6373f9c2-ff3d-4a39-a62b-6ac53abf0211")}catch{}})();const E=({items:e,detailsView:o,dialogAction:y,instruction:I,instructionShown:l,onSelect:c,onDelete:p,onNext:u,checkout:h,reset:x,...T})=>{const[V,g]=r.useState(!1),[j,D]=r.useState(),[w,C]=r.useState(),{product:b}=R(a=>a.preference),n=r.useContext(G),{t:i}=U(),v=r.useCallback(a=>{const s=e.find(L=>L.id===a);c&&c(s),D(s),g(!0)},[c,e]),S=r.useCallback(a=>{n&&A(n,{itemId:a}),p&&p(e.find(s=>s.id===a))},[n,p,e]),q=r.useCallback(()=>{C(void 0),x(),n&&B(n,{itemIds:e.map(a=>a.id)}),u&&u()},[n,e,u,x]),_=()=>g(!1);return r.useEffect(()=>{l&&e.length>0&&h(e).then(a=>{a.hasOwnProperty("data")?C(a.data):a.hasOwnProperty("error")&&k(a.error)}).catch(k)},[h,e,l]),t.jsxs(d,{width:360,height:"100vh",display:"flex",overflow:"hidden",children:[e.length===0&&t.jsxs(d,{padding:2,display:"flex",flexGrow:1,alignItems:"center",textAlign:"center",children:[t.jsx(f,{flexGrow:1}),t.jsxs(F,{flexGrow:1,children:[t.jsx(m,{gutterBottom:!0,variant:"h5",children:i("cart.empty")}),t.jsx(m,{children:i("cart.hint")})]}),t.jsx(f,{flexGrow:1})]}),e.length>0&&t.jsxs(d,{display:"flex",flexGrow:1,children:[t.jsx(O,{sx:{},onClick:v,onDelete:S,...T,children:e.map(a=>t.jsx(P,{primary:t.jsx(X,{title:a.name,children:t.jsx(J,{noWrap:!0,children:a.name})}),secondary:a.author},a.id))}),t.jsx(f,{flexGrow:1}),t.jsx(z,{}),t.jsxs(d,{padding:2,direction:"row",display:"flex",alignItems:"center",children:[t.jsx(m,{variant:"h6",flexGrow:1,children:i("cart.total",{count:e.length})}),t.jsx(M,{disabled:l,color:b==="packages"?"primary":"secondary",variant:"contained",onClick:q,children:i("cart.checkout")})]})]}),j&&t.jsx(N,{open:V,color:b==="packages"?"primary":"secondary",title:j.name,action:y,onClose:_,children:o}),w&&I,t.jsx(H,{show:!w&&l,children:i("cart.processing")})]})};try{E.displayName="ShoppingCartDetail",E.__docgenInfo={description:"A component that displays a list of items in the shopping cart.",displayName:"ShoppingCartDetail",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((key: string) => void)"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLUListElement | null) => void) | RefObject<HTMLUListElement> | null"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"T[]"}},detailsView:{defaultValue:null,description:"",name:"detailsView",required:!1,type:{name:"ReactElement<D, string | JSXElementConstructor<any>>"}},dialogAction:{defaultValue:null,description:"",name:"dialogAction",required:!1,type:{name:"ReactNode"}},instruction:{defaultValue:null,description:"",name:"instruction",required:!1,type:{name:"ReactElement<I, string | JSXElementConstructor<any>>"}},instructionShown:{defaultValue:null,description:"",name:"instructionShown",required:!1,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((item: T) => void)"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((item: T) => void)"}},onNext:{defaultValue:null,description:"",name:"onNext",required:!1,type:{name:"(() => void)"}},checkout:{defaultValue:null,description:"",name:"checkout",required:!0,type:{name:"(items: T[]) => Promise<{ data: string; } | { error: FetchBaseQueryError | SerializedError; }>"}},reset:{defaultValue:null,description:"",name:"reset",required:!0,type:{name:"() => void"}}}}}catch{}export{E as S};
