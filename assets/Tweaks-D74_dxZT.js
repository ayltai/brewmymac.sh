import{ae as E,af as _,q as r,r as o}from"./vendor-mXgH4NXJ.js";import{u as j}from"./i18next-CBl1xsEC.js";import{u as R,g as M,T as D,e as A,i as U,j as O,h as L,S as V,k as q,l as K,m as B,n as F}from"./index-C-GIAE-N.js";import{a as H,C as N}from"./CatalogueItem-yQbX5i34.js";import"./firebase-D1vLItKW.js";import"./redux-C3NhrqJI.js";import"./react-router-DJDwGLtd.js";import"./sentry-CTKibf21.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l=new Error().stack;l&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[l]="0845869f-a5cb-4461-b8b9-fcb5dfc3dece",i._sentryDebugIdIdentifier="sentry-dbid-0845869f-a5cb-4461-b8b9-fcb5dfc3dece")}catch{}})();var g={},P=_;Object.defineProperty(g,"__esModule",{value:!0});var w=g.default=void 0,W=P(E()),z=r;w=g.default=(0,W.default)((0,z.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const ae=()=>{const[i,l]=o.useState(),[p,v]=o.useState(),{tweaks:u}=R(e=>e.spellbook),{data:c,error:f}=M(void 0,{pollingInterval:D}),m=A(),{t:n}=j(),b=o.useCallback(e=>({id:e.id,name:e.name,description:e.description,imageUrl:e.imageUrl,infoUrl:e.infoUrl,author:e.author,parameters:e.parameters,types:e.types,values:e.values,impact:e.impact,privileged:e.privileged,sipInvolved:e.sipInvolved}),[]),T=o.useCallback((e,s)=>m(s?U(e):O(e)),[m]),I=({tweak:e})=>{const s=o.useRef(e),h=u.some(a=>a.id===s.current.id),x=(a,t)=>{if(t){const d=s.current.parameters.indexOf(a);s.current.values=s.current.values.map((S,C)=>C===d?t:S)}},y=()=>{const a={...s.current};if(p){const t=[...p];t[t.findIndex(d=>d.id===a.id)]=a,v(t)}if(i){const t=[...i];t[t.findIndex(d=>d.id===a.id)]=a,l(t)}u.some(t=>t.id===a.id)&&m(F(a))};return r.jsx(N,{selected:u.some(a=>a.id===e.id),item:e,detailsView:r.jsx(K,{description:e.description,infoUrl:e.infoUrl,parameters:e.parameters,types:e.types,values:s.current.values,onChange:x}),dialogAction:r.jsx(B,{color:"secondary",variant:"contained",onClick:y,children:n("action.save")}),actionText:h?n("action.configure"):void 0,actionIcon:h?r.jsx(w,{}):void 0,onSelectionChange:T})},k=e=>r.jsx(I,{tweak:e},e.id);return o.useEffect(()=>{c&&v(c)},[c]),o.useEffect(()=>{f&&L(f)},[f]),r.jsx(H,{suggestedItems:c,downloadedItems:c,tagLine:n("tweaks.tagline"),searchHint:n("tweaks.search.hint"),title:n("tweaks.about.title"),description:n("tweaks.about.description"),commands:V,categories:q,itemFields:["id","name","description","imageUrl","infoUrl","author","parameters","types","values","impact","privileged","sipInvolved"],loadingMessage:n("tweaks.loading"),renderCatalogueItem:k,searchResultMapper:b})};export{ae as Tweaks};
//# sourceMappingURL=Tweaks-D74_dxZT.js.map
