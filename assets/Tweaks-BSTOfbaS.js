import{ad as T,ae as y,q as n,r as i}from"./vendor-BLZmPQt-.js";import{u as x}from"./i18next-CEwyVi5Z.js";import{u as C,g as E,T as S,e as _,i as j,j as R,h as D,S as A,k as M,l as U,m as O,n as L}from"./index-IjlqK2yH.js";import{a as V,C as q}from"./CatalogueItem-CuTORiWG.js";import"./firebase-BjdzDFL2.js";import"./redux-DEPw0qZS.js";import"./react-router-BnTMrd7Z.js";import"./sentry-DpoH4Al2.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new Error().stack;o&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[o]="25b9e259-8a63-4d8d-bd55-53910419453c",t._sentryDebugIdIdentifier="sentry-dbid-25b9e259-8a63-4d8d-bd55-53910419453c")}catch{}})();var m={},K=y;Object.defineProperty(m,"__esModule",{value:!0});var g=m.default=void 0,B=K(T()),F=n;g=m.default=(0,B.default)((0,F.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const X=()=>{const[t,o]=i.useState(),{tweaks:d}=C(e=>e.spellbook),{data:l,error:u}=E(void 0,{pollingInterval:S,skip:t!==void 0}),p=_(),{t:r}=x(),v=i.useCallback(e=>({id:e.id,name:e.name,description:e.description,imageUrl:e.imageUrl,infoUrl:e.infoUrl,author:e.author,parameters:e.parameters,types:e.types,values:e.values,impact:e.impact,privileged:e.privileged,sipInvolved:e.sipInvolved}),[]),h=i.useCallback((e,a)=>p(a?j(e):R(e)),[p]),w=({tweak:e})=>{const a=i.useRef({...e,values:{...e.values}}),f=d.some(s=>s.id===a.current.id),I=(s,c)=>{c&&(a.current.values[a.current.parameters.indexOf(s)]=c)},b=()=>{if(t){const s=[...t];s[s.findIndex(c=>c.id===a.current.id)]=a.current,o(s)}d.some(s=>s.id===a.current.id)&&p(L(a.current))};return i.useEffect(()=>{a.current={...e,values:{...e.values}}},[e]),n.jsx(q,{selected:f,item:a.current,detailsView:n.jsx(U,{description:a.current.description,infoUrl:a.current.infoUrl,parameters:a.current.parameters,types:a.current.types,values:a.current.values,onChange:I}),dialogAction:n.jsx(O,{color:"secondary",variant:"contained",onClick:b,children:r("action.save")}),actionText:f?r("action.configure"):void 0,actionIcon:f?n.jsx(g,{}):void 0,onSelectionChange:h})},k=e=>n.jsx(w,{tweak:e},e.id);return i.useEffect(()=>{l&&o(l)},[l]),i.useEffect(()=>{u&&D(u)},[u]),n.jsx(V,{suggestedItems:t,downloadedItems:t,tagLine:r("tweaks.tagline"),searchHint:r("tweaks.search.hint"),title:r("tweaks.about.title"),description:r("tweaks.about.description"),commands:A,categories:M,itemFields:["id","name","description","imageUrl","infoUrl","author","parameters","types","values","impact","privileged","sipInvolved"],loadingMessage:r("tweaks.loading"),renderCatalogueItem:k,searchResultMapper:v})};export{X as Tweaks};
//# sourceMappingURL=Tweaks-BSTOfbaS.js.map
