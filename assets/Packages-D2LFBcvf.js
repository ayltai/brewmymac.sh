import{r as t,q as a,S as C,t as b,C as I,T as f}from"./vendor-BmfRSFhQ.js";import{M,T as G,G as V,S as H,a as $}from"./Terminal-uo12SWsR.js";import{u as B,a as L,H as S,b as P,c as Q,d as O,M as T,S as W,e as q,F as z,l as Z,h as x,f as X,R as Y,I as J,L as K,D as ee,g as ae,i as re,j as se,r as ie}from"./index-BPLE0iEq.js";import{u as te}from"./i18next-BjIGZPcw.js";import{S as ne}from"./terminal-BaFK-3nW.js";import"./firebase-DemMd8W9.js";import"./redux-CGdXS3La.js";import"./react-router-2BEppQmR.js";import"./sentry-CoI5brYB.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c=new Error().stack;c&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[c]="5560376c-2842-40a9-8fbd-383cf9b7d9b1",s._sentryDebugIdIdentifier="sentry-dbid-5560376c-2842-40a9-8fbd-383cf9b7d9b1")}catch{}})();const fe=()=>{const[s,c]=t.useState(""),[n,v]=t.useState(),{ingredients:A}=B(e=>e.recipe),{data:y,error:j}=L(void 0,{pollingInterval:S}),{data:l,error:p}=P(void 0,{pollingInterval:S}),{data:g,error:u}=Q(void 0,{pollingInterval:S}),{data:E,error:h,isFetching:R,isLoading:D}=O(s,{skip:s.length<T}),o=t.useRef(new M({fields:["id","name","description","author"],storeFields:["id","name","description","imageUrl","infoUrl","author","source"],searchOptions:{fuzzy:W}})),N=q(),i=t.useContext(z),[_,F]=t.useTransition(),{t:d}=te(),w=t.useCallback(e=>(i&&Z(i,{query:e}),o.current.search(e).map(r=>({id:r.id,name:r.name,description:r.description,imageUrl:r.imageUrl,infoUrl:r.infoUrl,author:r.author,source:r.source}))),[i]),U=e=>c(e??""),k=({ingredient:e})=>{const r=m=>{i&&(m?ae(i,{itemId:e.id}):re(i,{itemId:e.id})),N(m?se(e):ie(e))};return a.jsx($,{selected:A.some(m=>m.id===e.id),color:"primary",title:e.name,subtitle:e.author,description:e.description,onChange:r,children:a.jsx(ee,{description:e.description,infoUrl:e.infoUrl})},e.id)};return t.useEffect(()=>{o.current.removeAll(),l&&o.current.addAll(l.map(e=>({...e,id:`${e.source}/${e.id}`}))),g&&o.current.addAll(g.map(e=>({...e,id:`${e.source}/${e.id}`}))),E&&o.current.addAll(E.map(e=>({...e,id:`${e.source}/${e.id}`}))),s.length<T?v(void 0):F(()=>v(w(s)))},[l,g,w,E,s]),t.useEffect(()=>{j&&x(j),p&&x(p),u&&x(u),h&&x(h)},[j,p,u,h]),t.useEffect(()=>{i&&X(i,{pageName:"Packages",route:"/packages"})},[i]),a.jsxs(a.Fragment,{children:[a.jsxs(C,{paddingBottom:16,spacing:2,alignItems:"center",children:[a.jsxs(b,{sx:{animation:"gradient 16s ease infinite",background:"linear-gradient(315deg, #e5aac3 3%, #e8f5c8 38%, #07a3b2 68%, #6cc6cb 98%)",backgroundSize:"400%",backgroundAttachment:"fixed",overflow:"hidden"},width:"100%",padding:8,position:"relative",textAlign:"center",children:[a.jsx("div",{className:"wave"}),a.jsx("div",{className:"wave"}),a.jsx("div",{className:"wave"}),a.jsxs(I,{maxWidth:"lg",children:[a.jsx(f,{paddingX:8,paddingBottom:8,textAlign:"center",variant:"h2",children:d("packages.tagline")}),a.jsx(ne,{loading:_||R||D,hint:d("packages.search.hint"),onSearch:U})]})]}),!n&&a.jsx(I,{maxWidth:"lg",children:a.jsxs(C,{paddingTop:8,display:"flex",direction:"row",children:[a.jsxs(b,{flexGrow:1,children:[a.jsx(f,{gutterBottom:!0,paddingTop:2,color:"primary",variant:"h4",children:d("packages.about.title")}),a.jsx(f,{variant:"subtitle1",children:d("packages.about.description")})]}),a.jsx(b,{marginRight:-4,children:a.jsx(G,{commands:Y})})]})}),a.jsxs(I,{maxWidth:"lg",children:[n&&a.jsx(V,{sx:{paddingTop:4},children:n.map(e=>a.jsx(k,{ingredient:e},e.id))}),!n&&y&&J.map(e=>a.jsx(H,{sx:{paddingY:4},paddingTop:4,color:"primary",title:e,children:y.filter(r=>r.category===e).map(r=>a.jsx(k,{ingredient:r},r.id))},e))]})]}),a.jsx(K,{show:!l||!g||!!p||!!u||!!h,children:a.jsx(f,{color:e=>e.palette.getContrastText(e.palette.text.primary),children:d("packages.loading")})})]})};export{fe as Packages};
//# sourceMappingURL=Packages-D2LFBcvf.js.map
