import{r,q as f}from"./vendor-mXgH4NXJ.js";import{u as _,a as v,H as m,b as U,c as x,d as M,M as A,e as H,f as N,r as $,D as Q,h as n,R as T,I as j}from"./index-C-GIAE-N.js";import{u as F}from"./i18next-CBl1xsEC.js";import{C as L,a as G}from"./CatalogueItem-yQbX5i34.js";import"./firebase-D1vLItKW.js";import"./redux-C3NhrqJI.js";import"./react-router-DJDwGLtd.js";import"./sentry-CTKibf21.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="d7788db2-b071-4130-960b-44502f4ed619",s._sentryDebugIdIdentifier="sentry-dbid-d7788db2-b071-4130-960b-44502f4ed619")}catch{}})();const K=()=>{const[s,t]=r.useState(""),[h,y]=r.useState([]),{ingredients:I}=_(e=>e.recipe),{data:k,error:i}=v(void 0,{pollingInterval:m}),{data:d,error:c}=U(void 0,{pollingInterval:m}),{data:l,error:u}=x(void 0,{pollingInterval:m}),{data:p,error:g,isFetching:C,isLoading:D}=M(s,{skip:s.length<A}),E=H(),{t:o}=F(),w=r.useCallback(e=>({id:e.id,name:e.name,description:e.description,imageUrl:e.imageUrl,infoUrl:e.infoUrl,author:e.author,source:e.source}),[]),S=e=>t(e??""),b=r.useCallback((e,a)=>E(a?N(e):$(e)),[E]),R=r.useCallback(e=>f.jsx(L,{selected:I.some(a=>a.id===e.id),item:e,detailsView:f.jsx(Q,{description:e.description,infoUrl:e.infoUrl}),onSelectionChange:b},e.id),[b,I]);return r.useEffect(()=>{const e=[];d&&e.push(...d.map(a=>({...a,id:`${a.source}/${a.id}`}))),l&&e.push(...l.map(a=>({...a,id:`${a.source}/${a.id}`}))),p&&e.push(...p.map(a=>({...a,id:`${a.source}/${a.id}`}))),y(e)},[d,l,p]),r.useEffect(()=>{i&&n(i),c&&n(c),u&&n(u),g&&n(g)},[i,c,u,g]),f.jsx(G,{searching:C||D,suggestedItems:k,downloadedItems:h,tagLine:o("packages.tagline"),searchHint:o("packages.search.hint"),title:o("packages.about.title"),description:o("packages.about.description"),commands:T,categories:j,itemFields:["id","name","description","imageUrl","infoUrl","author","source"],loadingMessage:o("packages.loading"),renderCatalogueItem:R,searchResultMapper:w,onSearch:S})};export{K as Packages};
//# sourceMappingURL=Packages-BE7SL5eQ.js.map
